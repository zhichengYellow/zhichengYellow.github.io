<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>è‹ç©¹å¤–å–æ”¯ä»˜mock</title>
    <link href="/2025/11/28/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96%E6%94%AF%E4%BB%98mock/"/>
    <url>/2025/11/28/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96%E6%94%AF%E4%BB%98mock/</url>
    
    <content type="html"><![CDATA[<p>è‹ç©¹å¤–å–-å¾®ä¿¡æ”¯ä»˜åŠŸèƒ½è§£å†³ï¼Œæœ€å°ä¾µå…¥æ”¹é€ å¾®ä¿¡æ”¯ä»˜ï¼šmock-mode è®©é€€å•&#x2F;æ‹’å•ç…§å¸¸å¯ç”¨</p><p>å‰è¨€<br>åœ¨å¼€å‘æˆ–æ¼”ç¤ºè‹ç©¹å¤–å–é¡¹ç›®æ—¶ï¼Œå¾®ä¿¡æ”¯ä»˜ç¯èŠ‚å¸¸å¸¸æˆä¸ºæ•ˆç‡ç“¶é¢ˆ â€”â€” éœ€é…ç½®çœŸå®å•†æˆ·å·ã€è¯ä¹¦ã€ç§é’¥ï¼Œè¿˜å¾—æ¨¡æ‹Ÿæ”¯ä»˜å›è°ƒï¼Œå°¤å…¶æµ‹è¯•é€€å•ã€æ‹’å•ç­‰æ¶‰åŠé€€æ¬¾çš„åœºæ™¯æ—¶ï¼Œé¢‘ç¹è°ƒç”¨å¾®ä¿¡ sandbox ç¯å¢ƒæˆ–çœŸå®æ¥å£ä¸ä»…éº»çƒ¦ï¼Œè¿˜å¯èƒ½äº§ç”Ÿä¸å¿…è¦çš„æµ‹è¯•æˆæœ¬ã€‚</p><p>æœ¬æ–‡ä»‹ç»ä¸€ç§æœ€å°ä¾µå…¥å¼æ”¹é€ æ–¹æ¡ˆï¼šé€šè¿‡æ–°å¢mock-modeå¼€å…³ï¼Œå®ç° â€œæ”¯ä»˜ &#x2F; é€€æ¬¾æµç¨‹çŸ­è·¯â€ï¼Œå¼€å‘ &#x2F; æ¼”ç¤ºæ—¶æ— éœ€ä¾èµ–å¾®ä¿¡ä¸‰æ–¹æ¥å£ï¼Œè®¢å•çŠ¶æ€ä»èƒ½æ­£å¸¸æµè½¬ï¼ŒåŒæ—¶ä¿ç•™çœŸå®æ”¯ä»˜é“¾è·¯ï¼Œç”Ÿäº§ç¯å¢ƒä¸€é”®åˆ‡å›ã€‚æ”¹é€ ä»…æ¶‰åŠ 3 ç±»æ ¸å¿ƒæ–‡ä»¶ï¼Œæ— ä¸šåŠ¡é€»è¾‘é‡å†™ï¼Œå…¼é¡¾çµæ´»æ€§ä¸å®‰å…¨æ€§ã€‚</p><p>ä¸€ã€æ”¹é€ æ ¸å¿ƒæ€è·¯<br>æ”¹é€ çš„æ ¸å¿ƒæ˜¯ <strong>â€œå¼€å…³æ§åˆ¶åˆ†æ”¯ï¼Œä¸ç ´ååŸæœ‰é€»è¾‘â€</strong>ï¼Œæ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><p>æ–°å¢é…ç½®å¼€å…³ï¼šåœ¨å¾®ä¿¡æ”¯ä»˜é…ç½®ç±»ä¸­æ·»åŠ mockModeå­—æ®µï¼Œæ§åˆ¶æ˜¯å¦å¯ç”¨æ¨¡æ‹Ÿæ¨¡å¼ï¼›<br>å·¥å…·ç±»çŸ­è·¯æ”¹é€ ï¼šä¿®æ”¹æ”¯ä»˜ &#x2F; é€€æ¬¾å·¥å…·ç±»ï¼Œè‹¥å¼€å¯mockModeï¼Œç›´æ¥è¿”å›æ¨¡æ‹ŸæˆåŠŸç»“æœï¼Œè·³è¿‡çœŸå® HTTP è°ƒç”¨ï¼›<br>ä¸šåŠ¡å±‚é€‚é…ï¼šè®¢å•æ”¯ä»˜ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œæ ¹æ®å¼€å…³åˆ†æ”¯ â€”â€”mock æ¨¡å¼ä¸‹ç›´æ¥æ›´æ–°è®¢å•çŠ¶æ€ï¼ŒçœŸå®æ¨¡å¼èµ°åŸæ”¯ä»˜æµç¨‹ï¼›<br>ç¯å¢ƒé…ç½®éš”ç¦»ï¼šå¼€å‘ &#x2F; æ¼”ç¤ºç¯å¢ƒå¼€å¯ mockï¼Œç”Ÿäº§ç¯å¢ƒå…³é—­ï¼Œæ•æ„Ÿé…ç½®ä¸æ³„éœ²ã€‚<br>äºŒã€å…·ä½“æ”¹é€ æ­¥éª¤ï¼ˆé™„å®Œæ•´ä»£ç ï¼‰<br>2.1 ç¬¬ä¸€æ­¥ï¼šæ–°å¢ mock-mode é…ç½®å¼€å…³<br>åœ¨å¾®ä¿¡æ”¯ä»˜é…ç½®ç±»ä¸­æ·»åŠ mockModeå­—æ®µï¼Œé»˜è®¤å…³é—­ï¼ˆé¿å…å¼€å‘æ¼æ”¹å¯¼è‡´ç”Ÿäº§é—®é¢˜ï¼‰ã€‚</p><p>æ–‡ä»¶è·¯å¾„ï¼šsky-common&#x2F;src&#x2F;main&#x2F;java&#x2F;com&#x2F;sky&#x2F;properties&#x2F;WeChatProperties.java</p><p>java</p><p>è¿è¡Œ</p><p>package com.sky.properties;</p><p>import lombok.Data;<br>import org.springframework.boot.context.properties.ConfigurationProperties;<br>import org.springframework.stereotype.Component;</p><p>@Component<br>@ConfigurationProperties(prefix &#x3D; â€œsky.wechatâ€)<br>@Data<br>public class WeChatProperties {</p><pre><code class="hljs">private String appid;private String secret;private String mchid;private String mchSerialNo;private String privateKeyFilePath;private String apiV3Key;private String weChatPayCertFilePath;private String notifyUrl;private String refundNotifyUrl;// æ¨¡æ‹Ÿæ”¯ä»˜/é€€æ¬¾å¼€å…³private Boolean mockMode = false;</code></pre><p>}<br>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç <br>java</p><p>2.2 ç¬¬äºŒæ­¥ï¼šæ”¯ä»˜ &#x2F; é€€æ¬¾å·¥å…·ç±»çŸ­è·¯æ”¹é€ <br>ä¿®æ”¹WeChatPayUtilï¼Œåœ¨pay()ï¼ˆä¸‹å•ï¼‰å’Œrefund()ï¼ˆé€€æ¬¾ï¼‰æ–¹æ³•é¦–è¡Œæ·»åŠ å¼€å…³åˆ¤æ–­ â€”â€” å¼€å¯ mock æ—¶ç›´æ¥è¿”å›æ¨¡æ‹Ÿç»“æœï¼Œä¸æ‰§è¡ŒçœŸå®å¾®ä¿¡æ¥å£è°ƒç”¨ã€‚</p><p>æ–‡ä»¶è·¯å¾„ï¼šsky-common&#x2F;src&#x2F;main&#x2F;java&#x2F;com&#x2F;sky&#x2F;utils&#x2F;WeChatPayUtil.java</p><p>java</p><p>è¿è¡Œ</p><p>public JSONObject pay(String orderNum, BigDecimal total, String description, String openid) throws Exception {<br>    if (Boolean.TRUE.equals(weChatProperties.getMockMode()))) {<br>        JSONObject jo &#x3D; new JSONObject();<br>        String timeStamp &#x3D; String.valueOf(System.currentTimeMillis() &#x2F; 1000);<br>        String nonceStr &#x3D; RandomStringUtils.randomNumeric(32);<br>        jo.put(â€œtimeStampâ€, timeStamp);<br>        jo.put(â€œnonceStrâ€, nonceStr);<br>        jo.put(â€œpackageâ€, â€œprepay_id&#x3D;mock_prepay_idâ€);<br>        jo.put(â€œsignTypeâ€, â€œRSAâ€);<br>        jo.put(â€œpaySignâ€, â€œmock-signâ€);<br>        return jo;<br>    }<br>    String bodyAsString &#x3D; jsapi(orderNum, total, description, openid);<br>    JSONObject jsonObject &#x3D; JSON.parseObject(bodyAsString);<br>    String prepayId &#x3D; jsonObject.getString(â€œprepay_idâ€);<br>    if (prepayId !&#x3D; null) {<br>        String timeStamp &#x3D; String.valueOf(System.currentTimeMillis() &#x2F; 1000);<br>        String nonceStr &#x3D; RandomStringUtils.randomNumeric(32);<br>        ArrayList<Object> list &#x3D; new ArrayList&lt;&gt;();<br>        list.add(weChatProperties.getAppid());<br>        list.add(timeStamp);<br>        list.add(nonceStr);<br>        list.add(â€œprepay_id&#x3D;â€ + prepayId);<br>        StringBuilder stringBuilder &#x3D; new StringBuilder();<br>        for (Object o : list) stringBuilder.append(o).append(â€œ\nâ€);<br>        String signMessage &#x3D; stringBuilder.toString();<br>        byte[] message &#x3D; signMessage.getBytes();</p><pre><code class="hljs">    Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);    signature.initSign(PemUtil.loadPrivateKey(new FileInputStream(new File(weChatProperties.getPrivateKeyFilePath()))));    signature.update(message);    String packageSign = Base64.getEncoder().encodeToString(signature.sign());    JSONObject jo = new JSONObject();    jo.put(&quot;timeStamp&quot;, timeStamp);    jo.put(&quot;nonceStr&quot;, nonceStr);    jo.put(&quot;package&quot;, &quot;prepay_id=&quot; + prepayId);    jo.put(&quot;signType&quot;, &quot;RSA&quot;);    jo.put(&quot;paySign&quot;, packageSign);    return jo;&#125;return jsonObject;</code></pre><p>}</p><p>public String refund(String outTradeNo, String outRefundNo, BigDecimal refund, BigDecimal total) throws Exception {<br>    if (Boolean.TRUE.equals(weChatProperties.getMockMode())) {<br>        return â€œ{&quot;status&quot;:&quot;SUCCESS&quot;,&quot;channel&quot;:&quot;mock&quot;}â€;<br>    }<br>    JSONObject jsonObject &#x3D; new JSONObject();<br>    jsonObject.put(â€œout_trade_noâ€, outTradeNo);<br>    jsonObject.put(â€œout_refund_noâ€, outRefundNo);<br>    JSONObject amount &#x3D; new JSONObject();<br>    amount.put(â€œrefundâ€, refund.multiply(new BigDecimal(100)).setScale(2, BigDecimal.ROUND_HALF_UP).intValue());<br>    amount.put(â€œtotalâ€, total.multiply(new BigDecimal(100)).setScale(2, BigDecimal.ROUND_HALF_UP).intValue());<br>    amount.put(â€œcurrencyâ€, â€œCNYâ€);<br>    jsonObject.put(â€œamountâ€, amount);<br>    jsonObject.put(â€œnotify_urlâ€, weChatProperties.getRefundNotifyUrl());<br>    String body &#x3D; jsonObject.toJSONString();<br>    return post(REFUNDS, body);<br>}</p><p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç <br>java</p><p>2.3 ç¬¬ä¸‰æ­¥ï¼šè®¢å•ä¸šåŠ¡å±‚é€‚é…å¼€å…³<br>åœ¨è®¢å•æ”¯ä»˜ä¸šåŠ¡ï¼ˆOrderServiceImplï¼‰ä¸­ï¼Œæ³¨å…¥WeChatPropertiesï¼Œæ ¹æ®mockModeåˆ†æ”¯å¤„ç†ï¼š</p><p>mock å…³é—­ï¼šèµ°åŸæµç¨‹ï¼ˆè°ƒç”¨WeChatPayUtil.pay()ï¼Œè·å–çœŸå®æ”¯ä»˜å‚æ•°ï¼‰ï¼›<br>mock å¼€å¯ï¼šç›´æ¥æ›´æ–°è®¢å•çŠ¶æ€ä¸º â€œå·²æ”¯ä»˜ &#x2F; å¾…æ¥å•â€ï¼Œå¹¶æ„é€ ä¸å·¥å…·ç±»ä¸€è‡´çš„æ¨¡æ‹Ÿæ”¯ä»˜ VOã€‚<br>æ–‡ä»¶è·¯å¾„ï¼šsky-server&#x2F;src&#x2F;main&#x2F;java&#x2F;com&#x2F;sky&#x2F;service&#x2F;impl&#x2F;OrderServiceImpl.java</p><p>java</p><p>è¿è¡Œ</p><p>import com.sky.properties.WeChatProperties;</p><p>@Autowired<br>private WeChatProperties weChatProperties;</p><p>@Override<br>public OrderPaymentVO payment(OrdersPaymentDTO ordersPaymentDTO) throws Exception{<br>    Long userId &#x3D; BaseContext.getCurrentId();<br>    User user &#x3D; userMapper.getById(userId);<br>    boolean mock &#x3D; Boolean.TRUE.equals(weChatProperties.getMockMode());</p><pre><code class="hljs">if (!mock) &#123;    JSONObject jsonObject = weChatPayUtil.pay(            ordersPaymentDTO.getOrderNumber(),            new BigDecimal(0.01),            &quot;è‹ç©¹å¤–å–è®¢å•&quot;,            user.getOpenid()    );    if (jsonObject.getString(&quot;code&quot;) != null &amp;&amp; jsonObject.getString(&quot;code&quot;).equals(&quot;ORDERPAID&quot;)) &#123;        throw new OrderBusinessException(&quot;è¯¥è®¢å•å·²æ”¯ä»˜&quot;);    &#125;    OrderPaymentVO vo = jsonObject.toJavaObject(OrderPaymentVO.class);    vo.setPackageStr(jsonObject.getString(&quot;package&quot;));    return vo;&#125;// æ¨¡æ‹Ÿæ”¯ä»˜ï¼šç›´æ¥ç½®ä¸ºå·²æ”¯ä»˜ã€å¾…æ¥å•orderMapper.updateStatus(Orders.TO_BE_CONFIRMED, Orders.PAID, LocalDateTime.now(), ordersPaymentDTO.getOrderNumber());OrderPaymentVO vo = new OrderPaymentVO();vo.setNonceStr(&quot;mock-nonce&quot;);vo.setTimeStamp(String.valueOf(System.currentTimeMillis() / 1000));vo.setSignType(&quot;RSA&quot;);vo.setPackageStr(&quot;prepay_id=mock_prepay_id&quot;);vo.setPaySign(&quot;mock-sign&quot;);return vo;</code></pre><p>}<br>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç <br>java</p><p>2.4 ç¬¬å››æ­¥ï¼šç¯å¢ƒé…ç½®ï¼ˆå¼€å‘ &#x2F; ç”Ÿäº§éš”ç¦»ï¼‰<br>åœ¨å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯mock-modeï¼Œç”Ÿäº§ç¯å¢ƒä¿æŒå…³é—­ï¼ˆå¹¶é…ç½®çœŸå®å•†æˆ·ä¿¡æ¯ï¼‰ï¼Œé¿å…æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€‚</p><p>æ–‡ä»¶è·¯å¾„ï¼šsky-server&#x2F;src&#x2F;main&#x2F;resources&#x2F;application-dev.yml</p><p>yaml</p><p>sky:<br>  wechat:<br>    # å¼€å‘ç¯å¢ƒï¼šå¼€å¯mockæ¨¡å¼ï¼Œæ— éœ€é…ç½®çœŸå®å•†æˆ·ä¿¡æ¯<br>    mock-mode: true<br>    # çœŸå®é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒå¯æ³¨é‡Šï¼Œç”Ÿäº§ç¯å¢ƒéœ€å¡«å†™ï¼‰<br>    # mchid: 1234567890<br>    # private-key: ä½ çš„ç§é’¥<br>    # certificate: è¯ä¹¦è·¯å¾„<br>    # notify-url: https:&#x2F;&#x2F;ä½ çš„åŸŸå&#x2F;wechat&#x2F;pay&#x2F;notify<br>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç <br>ç”Ÿäº§ç¯å¢ƒé…ç½®å‚è€ƒï¼ˆapplication-prod.ymlï¼‰ï¼š</p><p>yaml</p><p>sky:<br>  wechat:<br>    # ç”Ÿäº§ç¯å¢ƒï¼šå¼ºåˆ¶å…³é—­mockï¼Œä½¿ç”¨çœŸå®æ”¯ä»˜<br>    mock-mode: false<br>    # çœŸå®å•†æˆ·é…ç½®ï¼ˆéœ€æ›¿æ¢ä¸ºè‡ªå·±çš„ä¿¡æ¯ï¼Œä¸”ä¸æäº¤åˆ°ä»£ç ä»“åº“ï¼‰<br>    mchid: ä½ çš„çœŸå®å•†æˆ·å·<br>    private-key: classpath:cert&#x2F;ä½ çš„ç§é’¥.pem<br>    certificate: classpath:cert&#x2F;ä½ çš„è¯ä¹¦.p12<br>    notify-url: https:&#x2F;&#x2F;ä½ çš„ç”Ÿäº§åŸŸå&#x2F;wechat&#x2F;pay&#x2F;notify<br>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç <br>ä¸‰ã€æ”¹é€ æ•ˆæœéªŒè¯<br>æ”¹é€ åï¼Œæ— éœ€ä¾èµ–å¾®ä¿¡æ¥å£å³å¯å®Œæˆæ”¯ä»˜ã€é€€å•ã€æ‹’å•å…¨æµç¨‹æµ‹è¯•ï¼ŒéªŒè¯æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>3.1 éªŒè¯ â€œæ¨¡æ‹Ÿæ”¯ä»˜â€ æµç¨‹<br>ä¸‹å•ï¼šè°ƒç”¨ç”¨æˆ·ç«¯ä¸‹å•æ¥å£ï¼Œç”Ÿæˆå¾…æ”¯ä»˜è®¢å•ï¼ˆstatus&#x3D;1ï¼Œpay_status&#x3D;0ï¼‰ï¼›<br>å‘èµ·æ”¯ä»˜ï¼šè°ƒç”¨PUT &#x2F;user&#x2F;order&#x2F;paymentæ¥å£ï¼Œä¼ å…¥è®¢å•å·ï¼›<br>æŸ¥åº“éªŒè¯ï¼šæŸ¥è¯¢ordersè¡¨ï¼Œç¡®è®¤è®¢å•çŠ¶æ€æ›´æ–°ä¸ºï¼š<br>status&#x3D;2ï¼ˆå¾…æ¥å•ï¼‰<br>pay_status&#x3D;1ï¼ˆå·²æ”¯ä»˜ï¼‰<br>checkout_timeï¼ˆæ”¯ä»˜æ—¶é—´ï¼‰éç©ºã€‚<br>3.2 éªŒè¯ â€œæ¨¡æ‹Ÿé€€æ¬¾â€ æµç¨‹<br>å‘èµ·é€€å•ï¼šç”¨æˆ·å–æ¶ˆè®¢å•ï¼ˆæˆ–å•†å®¶æ‹’å•ï¼‰ï¼Œè§¦å‘é€€æ¬¾é€»è¾‘ï¼›<br>æ—¥å¿—éªŒè¯ï¼šæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ï¼Œåº”å‡ºç°ç±»ä¼¼æ¨¡æ‹Ÿé€€æ¬¾æˆåŠŸï¼Œè®¢å•å·ï¼šxxxï¼Œé€€æ¬¾å•å·ï¼šxxxçš„ä¿¡æ¯ï¼ˆå¯åœ¨WeChatPayUtil.refund()çš„ mock åˆ†æ”¯ä¸­æ·»åŠ æ—¥å¿—ï¼‰ï¼›<br>ä¸šåŠ¡éªŒè¯ï¼šé€€æ¬¾åè®¢å•çŠ¶æ€æ­£å¸¸æµè½¬ï¼ˆå¦‚ â€œå·²å–æ¶ˆâ€ï¼‰ï¼Œæ— æŠ¥é”™ã€‚<br>3.3 éªŒè¯ â€œçœŸå®æ”¯ä»˜â€ åˆ‡æ¢<br>å°†application-dev.ymlä¸­mock-modeæ”¹ä¸ºfalseï¼Œå¹¶é…ç½®çœŸå®å•†æˆ·ä¿¡æ¯ï¼›<br>é‡å¤ 3.1 æ­¥éª¤ï¼Œæ­¤æ—¶ä¼šè°ƒç”¨çœŸå®å¾®ä¿¡æ”¯ä»˜æ¥å£ï¼Œè¿”å›çœŸå®prepay_idï¼Œéœ€ç”¨å¾®ä¿¡æ‰«ç æˆ–å°ç¨‹åºè°ƒèµ·æ”¯ä»˜ï¼›<br>æ”¯ä»˜æˆåŠŸåï¼Œå¾®ä¿¡ä¼šå›è°ƒnotify-urlï¼Œè®¢å•çŠ¶æ€æ­£å¸¸æ›´æ–°ï¼ˆä¸æ”¹é€ å‰ä¸€è‡´ï¼‰ã€‚<br>å››ã€æ³¨æ„äº‹é¡¹ï¼ˆé¿å‘æŒ‡å—ï¼‰<br>æ•æ„Ÿé…ç½®ä¸æäº¤ä»“åº“<br>å•†æˆ·å·ã€ç§é’¥ã€è¯ä¹¦ç­‰æ•æ„Ÿä¿¡æ¯ï¼Œéœ€é€šè¿‡ç¯å¢ƒå˜é‡æˆ–é…ç½®ä¸­å¿ƒæ³¨å…¥ï¼Œç¦æ­¢ç¡¬ç¼–ç æˆ–æäº¤åˆ° Git ä»“åº“ï¼ˆå¯åœ¨.gitignoreä¸­æ·»åŠ cert&#x2F;ç›®å½•ï¼Œå¿½ç•¥è¯ä¹¦æ–‡ä»¶ï¼‰ã€‚</p><p>mock ä»…ç”¨äºå¼€å‘ &#x2F; æ¼”ç¤º<br>ç”Ÿäº§ç¯å¢ƒå¿…é¡»å°†mock-modeè®¾ä¸ºfalseï¼Œå¹¶å®Œæˆå¾®ä¿¡æ”¯ä»˜çš„å…¨é“¾è·¯é…ç½®ï¼ˆåŒ…æ‹¬å›è°ƒæ¥å£çš„ SSL è¯ä¹¦ã€å•†æˆ·å·æƒé™å¼€é€šç­‰ï¼‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´çœŸå®æ”¯ä»˜å¤±è´¥ã€‚</p><p>æ¨¡æ‹Ÿå‚æ•°æ ¼å¼ä¸çœŸå®ä¸€è‡´<br>mock è¿”å›çš„timeStampï¼ˆç§’çº§ï¼Œéæ¯«ç§’çº§ï¼‰ã€packageï¼ˆå‰ç¼€prepay_id&#x3D;ï¼‰ã€signTypeï¼ˆRSAï¼‰ç­‰å‚æ•°æ ¼å¼ï¼Œå¿…é¡»ä¸å¾®ä¿¡çœŸå®è¿”å›ä¸€è‡´ï¼Œé¿å…å‰ç«¯è°ƒèµ·æ”¯ä»˜æ—¶è§£ææŠ¥é”™ã€‚</p><p>æ—¥å¿—åŒºåˆ† mock ä¸çœŸå®<br>åœ¨WeChatPayUtilçš„ mock åˆ†æ”¯ä¸­æ·»åŠ æ˜ç¡®æ—¥å¿—ï¼ˆå¦‚log.info(â€œæ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸï¼Œè®¢å•å·ï¼š{}â€, orderNumber)ï¼‰ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥æ—¶åŒºåˆ† â€œæ¨¡æ‹Ÿâ€ å’Œ â€œçœŸå®â€ æµç¨‹ã€‚</p><p>äº”ã€æ”¹é€ æ€»ç»“<br>æœ¬æ¬¡æ”¹é€ æ˜¯ <strong>â€œæœ€å°ä¾µå…¥å¼â€</strong> çš„å…¸èŒƒ â€”â€” ä»…ä¿®æ”¹ 3 ç±»æ–‡ä»¶ï¼Œæ–°å¢ 1 ä¸ªå¼€å…³ï¼Œä¸ç ´ååŸæœ‰ä¸šåŠ¡é€»è¾‘ï¼Œå®ç°äº†ï¼š</p><p>å¼€å‘æ•ˆç‡æå‡ï¼šæ— éœ€é…ç½®å¾®ä¿¡ sandbox ç¯å¢ƒï¼Œ1 åˆ†é’Ÿå®Œæˆæ”¯ä»˜ &#x2F; é€€æ¬¾æµ‹è¯•ï¼›<br>æ¼”ç¤ºçµæ´»æ€§ï¼šå¯¹å¤–æ¼”ç¤ºæ—¶ï¼Œæ— éœ€çœŸå®æ”¯ä»˜ï¼Œç›´æ¥å±•ç¤ºå…¨æµç¨‹ï¼›<br>ç”Ÿäº§å®‰å…¨æ€§ï¼šmock ä¸çœŸå®æµç¨‹éš”ç¦»ï¼Œç”Ÿäº§ç¯å¢ƒä¸€é”®åˆ‡å›ï¼Œæ— é£é™©ã€‚<br>è‹¥åç»­éœ€è¦æ‰©å±•ï¼ˆå¦‚æ”¯æŒæ”¯ä»˜å® mockï¼‰ï¼Œå¯å‚è€ƒæ­¤æ€è·¯ï¼Œåœ¨å¯¹åº”å·¥å…·ç±»ä¸­æ·»åŠ å¼€å…³åˆ†æ”¯ï¼Œä¿æŒè®¾è®¡ä¸€è‡´æ€§ã€‚<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€ŒNEFUyellow386ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/2401_87905604/article/details/150648202">https://blog.csdn.net/2401_87905604/article/details/150648202</a></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>spring boot</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>spring boot</tag>
      
      <tag>mock</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¾®æœåŠ¡å­¦ä¹ ç¬”è®°</title>
    <link href="/2025/11/28/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2025/11/28/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="Nacosé…ç½®æ ¸å¿ƒè¦ç‚¹"><a href="#Nacosé…ç½®æ ¸å¿ƒè¦ç‚¹" class="headerlink" title="Nacosé…ç½®æ ¸å¿ƒè¦ç‚¹"></a>Nacosé…ç½®æ ¸å¿ƒè¦ç‚¹</h2><h3 id="1-é…ç½®æ–‡ä»¶è®¾ç½®"><a href="#1-é…ç½®æ–‡ä»¶è®¾ç½®" class="headerlink" title="1. é…ç½®æ–‡ä»¶è®¾ç½®"></a>1. é…ç½®æ–‡ä»¶è®¾ç½®</h3><ul><li>ä½¿ç”¨<a href="file:///Users/binyellow/java-study/hmall/pay-service/target/classes/bootstrap.yaml">bootstrap.yaml</a>è€Œä¸æ˜¯<a href="file:///Users/binyellow/java-study/hmall/pay-service/target/classes/application.yaml">application.yaml</a>æ¥é…ç½®Nacosæ³¨å†Œä¸­å¿ƒå‚æ•°</li><li>å¿…é¡»åŒ…å«ä»¥ä¸‹åŸºæœ¬é…ç½®é¡¹ï¼š<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">æœåŠ¡åç§°</span> <span class="hljs-comment"># å¦‚user-service</span><br>  <span class="hljs-attr">cloud:</span><br>    <span class="hljs-attr">nacos:</span><br>      <span class="hljs-attr">server-addr:</span> <span class="hljs-string">NacosæœåŠ¡å™¨åœ°å€</span> <span class="hljs-comment"># å¦‚127.0.0.1:8848</span><br>      <span class="hljs-attr">discovery:</span><br>        <span class="hljs-attr">namespace:</span> <span class="hljs-string">å‘½åç©ºé—´ID</span> <span class="hljs-comment"># å¯é€‰</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="2-ä¾èµ–é…ç½®"><a href="#2-ä¾èµ–é…ç½®" class="headerlink" title="2. ä¾èµ–é…ç½®"></a>2. ä¾èµ–é…ç½®</h3><p>ä¸»è¦éœ€è¦ä»¥ä¸‹ä¾èµ–ï¼š</p><ul><li><code>spring-cloud-starter-alibaba-nacos-discovery</code> - NacosæœåŠ¡å‘ç°</li><li><code>spring-cloud-starter-openfeign</code> - Feignå®¢æˆ·ç«¯ï¼ˆå¦‚éœ€æœåŠ¡é—´è°ƒç”¨ï¼‰</li><li><code>spring-cloud-starter-loadbalancer</code> - è´Ÿè½½å‡è¡¡ï¼ˆé…åˆFeignä½¿ç”¨ï¼‰</li></ul><h3 id="3-ä¸»åº”ç”¨ç±»æ³¨è§£"><a href="#3-ä¸»åº”ç”¨ç±»æ³¨è§£" class="headerlink" title="3. ä¸»åº”ç”¨ç±»æ³¨è§£"></a>3. ä¸»åº”ç”¨ç±»æ³¨è§£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@EnableDiscoveryClient</span> <span class="hljs-comment">// å¯ç”¨æœåŠ¡å‘ç°</span><br><span class="hljs-meta">@EnableFeignClients(basePackages = &quot;com.hmall.api.client&quot;, defaultConfiguration = DefaultFeignConfig.class)</span> <span class="hljs-comment">// å¦‚ä½¿ç”¨Feign</span><br></code></pre></td></tr></table></figure><h3 id="4-å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"><a href="#4-å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="4. å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"></a>4. å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h3><h4 id="æœåŠ¡æ— æ³•æ³¨å†Œé—®é¢˜"><a href="#æœåŠ¡æ— æ³•æ³¨å†Œé—®é¢˜" class="headerlink" title="æœåŠ¡æ— æ³•æ³¨å†Œé—®é¢˜"></a>æœåŠ¡æ— æ³•æ³¨å†Œé—®é¢˜</h4><ul><li>æ£€æŸ¥æ˜¯å¦ç¼ºå°‘bootstrap.yamlæ–‡ä»¶</li><li>ç¡®è®¤ä¸»åº”ç”¨ç±»æ˜¯å¦æ·»åŠ äº†@EnableDiscoveryClientæ³¨è§£</li><li>æ£€æŸ¥NacosæœåŠ¡åœ°å€é…ç½®æ˜¯å¦æ­£ç¡®</li></ul><h4 id="Feignå®¢æˆ·ç«¯é—®é¢˜"><a href="#Feignå®¢æˆ·ç«¯é—®é¢˜" class="headerlink" title="Feignå®¢æˆ·ç«¯é—®é¢˜"></a>Feignå®¢æˆ·ç«¯é—®é¢˜</h4><ul><li>ç¡®ä¿æ·»åŠ äº†spring-cloud-starter-openfeignä¾èµ–</li><li>æ­£ç¡®é…ç½®@EnableFeignClientsæ³¨è§£</li><li>ä¸è¦æ‰‹åŠ¨é…ç½®Feignçš„customizersï¼Œè®©Spring Cloudè‡ªåŠ¨é…ç½®</li></ul><h4 id="è´Ÿè½½å‡è¡¡é—®é¢˜"><a href="#è´Ÿè½½å‡è¡¡é—®é¢˜" class="headerlink" title="è´Ÿè½½å‡è¡¡é—®é¢˜"></a>è´Ÿè½½å‡è¡¡é—®é¢˜</h4><ul><li>æ·»åŠ spring-cloud-starter-loadbalancerä¾èµ–</li><li>ç¡®ä¿æœåŠ¡é—´è°ƒç”¨ä½¿ç”¨æœåŠ¡åè€Œä¸æ˜¯ç¡¬ç¼–ç åœ°å€</li></ul><h3 id="5-å¤šæœåŠ¡ä¸€è‡´æ€§"><a href="#5-å¤šæœåŠ¡ä¸€è‡´æ€§" class="headerlink" title="5. å¤šæœåŠ¡ä¸€è‡´æ€§"></a>5. å¤šæœåŠ¡ä¸€è‡´æ€§</h3><p>åœ¨æˆ‘ä»¬çš„hmallé¡¹ç›®ä¸­ï¼Œuser-serviceã€trade-serviceã€pay-serviceç­‰éƒ½éœ€è¦ç›¸åŒçš„Nacosé…ç½®æ¨¡å¼æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚</p><p>ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬å¤„ç†Nacosé…ç½®è¿‡ç¨‹ä¸­çš„å…³é”®çŸ¥è¯†ç‚¹ï¼Œè¿™äº›éƒ½æ˜¯ä¿è¯å¾®æœåŠ¡èƒ½å¤Ÿæ­£å¸¸æ³¨å†Œå’Œå‘ç°çš„é‡è¦é…ç½®è¦ç´ ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>å¾®æœåŠ¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>spring cloud alibaba</tag>
      
      <tag>nacos</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>usage</title>
    <link href="/2025/11/28/usage/"/>
    <url>/2025/11/28/usage/</url>
    
    <content type="html"><![CDATA[<p>è¿™ä»½ <strong>â€œHexo åšå®¢ç®¡ç†é€ŸæŸ¥æ‰‹å†Œâ€</strong> æ˜¯ä¸“é—¨ä¸ºä½ å‡†å¤‡çš„ã€‚ä½ å¯ä»¥æŠŠå®ƒä¿å­˜åˆ°ç¬”è®°è½¯ä»¶é‡Œï¼Œä»¥åå¿˜è®°æŒ‡ä»¤äº†å°±çœ‹ä¸€çœ¼ã€‚</p><p>è¿™é‡ŒåŒ…å«äº†<strong>å†™æ–‡ç« </strong>ã€<strong>æåˆ†ç±»</strong>ã€<strong>å‘å¸ƒæ›´æ–°</strong>ä»¥åŠ<strong>Fluid ä¸»é¢˜ç‰¹æœ‰è®¾ç½®</strong>çš„å®Œæ•´æµç¨‹ã€‚</p><hr><h3 id="ä¸€ã€-æ—¥å¸¸å†™ä½œä¸‰éƒ¨æ›²-æœ€å¸¸ç”¨"><a href="#ä¸€ã€-æ—¥å¸¸å†™ä½œä¸‰éƒ¨æ›²-æœ€å¸¸ç”¨" class="headerlink" title="ä¸€ã€ æ—¥å¸¸å†™ä½œä¸‰éƒ¨æ›² (æœ€å¸¸ç”¨)"></a>ä¸€ã€ æ—¥å¸¸å†™ä½œä¸‰éƒ¨æ›² (æœ€å¸¸ç”¨)</h3><p>è¿™æ˜¯ä½ ä»¥åæ¯æ¬¡å†™åšå®¢éƒ½ä¼šé‡å¤çš„æµç¨‹ã€‚</p><h4 id="1-åˆ›å»ºæ–°æ–‡ç« "><a href="#1-åˆ›å»ºæ–°æ–‡ç« " class="headerlink" title="1. åˆ›å»ºæ–°æ–‡ç« "></a>1. åˆ›å»ºæ–°æ–‡ç« </h4><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥åšå®¢æ ¹ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo new <span class="hljs-string">&quot;æ–‡ç« æ ‡é¢˜&quot;</span><br><span class="hljs-comment"># ä¾‹å­ï¼šhexo new &quot;Dockerå­¦ä¹ ç¬”è®°&quot;</span><br></code></pre></td></tr></table></figure><ul><li>ç³»ç»Ÿä¼šæç¤ºä½ æ–‡ä»¶ç”Ÿæˆåœ¨ <code>source/_posts/Dockerå­¦ä¹ ç¬”è®°.md</code>ã€‚</li><li>ç”¨ VS Code æˆ–è®°äº‹æœ¬æ‰“å¼€è¿™ä¸ªæ–‡ä»¶å¼€å§‹å†™ä½œã€‚</li></ul><h4 id="2-å¿…é¡»æŒæ¡çš„å¤´éƒ¨å†™æ³•-Front-matter"><a href="#2-å¿…é¡»æŒæ¡çš„å¤´éƒ¨å†™æ³•-Front-matter" class="headerlink" title="2. å¿…é¡»æŒæ¡çš„å¤´éƒ¨å†™æ³• (Front-matter)"></a>2. å¿…é¡»æŒæ¡çš„å¤´éƒ¨å†™æ³• (Front-matter)</h4><p>åœ¨æ–‡ç« çš„æœ€é¡¶éƒ¨ï¼Œå†³å®šäº†æ–‡ç« çš„åˆ†ç±»å’Œæ ‡ç­¾ã€‚<strong>æ³¨æ„å†’å·åå¿…é¡»æœ‰ç©ºæ ¼ï¼</strong></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs markdown">---<br>title: Dockerå­¦ä¹ ç¬”è®°<br>date: 2025-11-28 20:30:00<br>tags: <br><span class="hljs-bullet">  -</span> Docker<br><span class="hljs-bullet">  -</span> è¿ç»´<br>categories: <br><span class="hljs-bullet">  -</span> åç«¯æŠ€æœ¯<br><span class="hljs-section">  - å®¹å™¨åŒ–</span><br><span class="hljs-section">---</span><br>è¿™é‡Œå¼€å§‹å†™æ­£æ–‡...<br></code></pre></td></tr></table></figure><ul><li>**tags (æ ‡ç­¾)**ï¼šåƒå…³é”®è¯ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥æœ‰å¤šä¸ªï¼ˆæ¯”å¦‚ï¼šJava, ç¬”è®°ï¼‰ã€‚</li><li>**categories (åˆ†ç±»)**ï¼šåƒæ–‡ä»¶å¤¹ï¼Œæ”¯æŒå¤šçº§ï¼ˆæ¯”å¦‚ï¼šåç«¯æŠ€æœ¯ -&gt; Javaï¼‰ã€‚</li></ul><h4 id="3-æœ¬åœ°é¢„è§ˆ"><a href="#3-æœ¬åœ°é¢„è§ˆ" class="headerlink" title="3. æœ¬åœ°é¢„è§ˆ"></a>3. æœ¬åœ°é¢„è§ˆ</h4><p>å†™å®Œåï¼Œå…ˆåœ¨æœ¬åœ°çœ‹çœ‹æ•ˆæœï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo s<br></code></pre></td></tr></table></figure><p>æ‰“å¼€ <code>localhost:4000</code> æ£€æŸ¥æ— è¯¯åï¼ŒæŒ‰ <code>Ctrl + C</code> åœæ­¢æœåŠ¡ã€‚</p><hr><h3 id="äºŒã€-å‘å¸ƒä¸æ›´æ–°-ä¸Šä¼ åˆ°-GitHub"><a href="#äºŒã€-å‘å¸ƒä¸æ›´æ–°-ä¸Šä¼ åˆ°-GitHub" class="headerlink" title="äºŒã€ å‘å¸ƒä¸æ›´æ–° (ä¸Šä¼ åˆ° GitHub)"></a>äºŒã€ å‘å¸ƒä¸æ›´æ–° (ä¸Šä¼ åˆ° GitHub)</h3><p>æ— è®ºæ˜¯<strong>å‘å¸ƒæ–°æ–‡ç« </strong>ï¼Œè¿˜æ˜¯<strong>ä¿®æ”¹äº†é”™åˆ«å­—</strong>ï¼Œæˆ–è€…æ˜¯<strong>æ”¹äº†ä¸»é¢˜é…ç½®</strong>ï¼Œç»Ÿä¸€éƒ½ç”¨è¿™å¥—â€œä¸‰è¿å‡»â€æŒ‡ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 1. æ¸…ç†æ—§ç¼“å­˜ (é˜²æ­¢é¡µé¢æ²¡å˜ã€æ ·å¼é”™ä¹±)</span><br>hexo clean<br><br><span class="hljs-comment"># 2. ç”Ÿæˆé™æ€ç½‘é¡µ (æŠŠ Markdown å˜æˆ HTML)</span><br>hexo g<br><br><span class="hljs-comment"># 3. æ¨é€åˆ° GitHub (Go Live!)</span><br>hexo d<br></code></pre></td></tr></table></figure><p>ğŸ’¡ <strong>å·æ‡’æŠ€å·§</strong>ï¼šä½ å¯ä»¥æŠŠè¿™ä¸‰è¡Œåˆå¹¶æˆä¸€è¡Œè¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d<br></code></pre></td></tr></table></figure><hr><h3 id="ä¸‰ã€-å¼€å¯â€œåˆ†ç±»â€å’Œâ€œæ ‡ç­¾â€é¡µé¢-Fluid-ä¸»é¢˜å¿…åš"><a href="#ä¸‰ã€-å¼€å¯â€œåˆ†ç±»â€å’Œâ€œæ ‡ç­¾â€é¡µé¢-Fluid-ä¸»é¢˜å¿…åš" class="headerlink" title="ä¸‰ã€ å¼€å¯â€œåˆ†ç±»â€å’Œâ€œæ ‡ç­¾â€é¡µé¢ (Fluid ä¸»é¢˜å¿…åš)"></a>ä¸‰ã€ å¼€å¯â€œåˆ†ç±»â€å’Œâ€œæ ‡ç­¾â€é¡µé¢ (Fluid ä¸»é¢˜å¿…åš)</h3><p>åœ¨ Fluid ä¸»é¢˜ä¸­ï¼Œèœå•æ ä¸Šçš„â€œåˆ†ç±»â€å’Œâ€œæ ‡ç­¾â€æŒ‰é’®ï¼Œ<strong>é»˜è®¤ç‚¹å‡»æ˜¯ 404 çš„</strong>ã€‚ä½ éœ€è¦æ‰‹åŠ¨åˆ›å»ºè¿™ä¸¤ä¸ªç‰¹æ®Šçš„é¡µé¢ï¼ˆ<strong>åªéœ€è¦åšä¸€æ¬¡</strong>ï¼‰ã€‚</p><h4 id="1-å¼€å¯â€œåˆ†ç±»â€é¡µ"><a href="#1-å¼€å¯â€œåˆ†ç±»â€é¡µ" class="headerlink" title="1. å¼€å¯â€œåˆ†ç±»â€é¡µ"></a>1. å¼€å¯â€œåˆ†ç±»â€é¡µ</h4><p>åœ¨ç»ˆç«¯è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo new page categories<br></code></pre></td></tr></table></figure><p>ç„¶åå»ç¼–è¾‘ç”Ÿæˆçš„æ–‡ä»¶ <code>source/categories/index.md</code>ï¼ŒæŠŠå†…å®¹æ”¹æˆï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs markdown">---<br>title: åˆ†ç±»<br>date: 2025-11-28 20:00:00<br>type: categories  &lt;-- è¿™ä¸€è¡Œæœ€å…³é”®ï¼Œå‘Šè¯‰ä¸»é¢˜è¿™æ˜¯åˆ†ç±»é¡µ<br><span class="hljs-section">layout: categories</span><br><span class="hljs-section">---</span><br></code></pre></td></tr></table></figure><p><em>(æ³¨æ„ï¼šæ­£æ–‡ç•™ç©ºå³å¯ï¼Œä¸è¦å†™ä¸œè¥¿)</em></p><h4 id="2-å¼€å¯â€œæ ‡ç­¾â€é¡µ"><a href="#2-å¼€å¯â€œæ ‡ç­¾â€é¡µ" class="headerlink" title="2. å¼€å¯â€œæ ‡ç­¾â€é¡µ"></a>2. å¼€å¯â€œæ ‡ç­¾â€é¡µ</h4><p>åœ¨ç»ˆç«¯è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo new page tags<br></code></pre></td></tr></table></figure><p>å»ç¼–è¾‘ <code>source/tags/index.md</code>ï¼Œæ”¹ä¸ºï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs markdown">---<br>title: æ ‡ç­¾<br>date: 2025-11-28 20:00:00<br>type: tags       &lt;-- è¿™ä¸€è¡Œæœ€å…³é”®<br><span class="hljs-section">layout: tags</span><br><span class="hljs-section">---</span><br></code></pre></td></tr></table></figure><p>åšå®Œè¿™ä¸¤æ­¥åï¼Œè¿è¡Œ <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code>ï¼Œç‚¹å‡»èœå•æ çš„æŒ‰é’®ï¼Œå°±èƒ½è‡ªåŠ¨æŠŠä½ æ‰€æœ‰æ–‡ç« çš„åˆ†ç±»å’Œæ ‡ç­¾æ±‡æ€»å±•ç¤ºå‡ºæ¥äº†ã€‚</p><hr><h3 id="å››ã€-å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥è¡¨"><a href="#å››ã€-å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥è¡¨" class="headerlink" title="å››ã€ å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥è¡¨"></a>å››ã€ å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥è¡¨</h3><table><thead><tr><th align="left">ç®€å†™æŒ‡ä»¤</th><th align="left">å®Œæ•´æŒ‡ä»¤</th><th align="left">ä½œç”¨</th><th align="left">å¤‡æ³¨</th></tr></thead><tbody><tr><td align="left"><code>hexo n &quot;...&quot;</code></td><td align="left"><code>hexo new &quot;...&quot;</code></td><td align="left"><strong>æ–°å»ºæ–‡ç« </strong></td><td align="left">ç”Ÿæˆåœ¨ <code>source/_posts</code></td></tr><tr><td align="left"><code>hexo s</code></td><td align="left"><code>hexo server</code></td><td align="left"><strong>å¯åŠ¨æœ¬åœ°é¢„è§ˆ</strong></td><td align="left">è®¿é—® <code>localhost:4000</code></td></tr><tr><td align="left"><code>hexo g</code></td><td align="left"><code>hexo generate</code></td><td align="left"><strong>ç”Ÿæˆç½‘é¡µ</strong></td><td align="left">ç¼–è¯‘ Markdown ä¸º HTML</td></tr><tr><td align="left"><code>hexo d</code></td><td align="left"><code>hexo deploy</code></td><td align="left"><strong>éƒ¨ç½²&#x2F;å‘å¸ƒ</strong></td><td align="left">æ¨é€åˆ° GitHub</td></tr><tr><td align="left"><code>hexo clean</code></td><td align="left"><code>hexo clean</code></td><td align="left"><strong>æ¸…ç†ç¼“å­˜</strong></td><td align="left"><strong>é‡åˆ°ç„å­¦é—®é¢˜å…ˆæ‰§è¡Œå®ƒ</strong></td></tr><tr><td align="left"><code>hexo new page &quot;...&quot;</code></td><td align="left"><code>hexo new page &quot;...&quot;</code></td><td align="left"><strong>æ–°å»ºç‹¬ç«‹é¡µé¢</strong></td><td align="left">å¦‚â€œå…³äºæˆ‘â€ã€â€œå‹æƒ…é“¾æ¥â€</td></tr></tbody></table><h3 id="äº”ã€-å¦‚æœæˆ‘æƒ³æ¢ç”µè„‘å†™åšå®¢æ€ä¹ˆåŠï¼Ÿ"><a href="#äº”ã€-å¦‚æœæˆ‘æƒ³æ¢ç”µè„‘å†™åšå®¢æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="äº”ã€ å¦‚æœæˆ‘æƒ³æ¢ç”µè„‘å†™åšå®¢æ€ä¹ˆåŠï¼Ÿ"></a>äº”ã€ å¦‚æœæˆ‘æƒ³æ¢ç”µè„‘å†™åšå®¢æ€ä¹ˆåŠï¼Ÿ</h3><p>è¿™æ˜¯å¾ˆå¤šæ–°æ‰‹å®¹æ˜“è¸©çš„å‘ã€‚<strong>GitHub ä»“åº“ (<code>yellow386.github.io</code>) é‡Œå­˜çš„åªæ˜¯ç”Ÿæˆçš„ç½‘é¡µ (HTML)ï¼Œä¸æ˜¯ä½ çš„æºä»£ç  (Markdown)ï¼</strong></p><p>ä¸ºäº†é˜²æ­¢ç”µè„‘åäº†å¯¼è‡´åšå®¢æºç ä¸¢å¤±ï¼Œå»ºè®®ä½ åšæœ€åä¸€ä»¶é‡è¦çš„äº‹ï¼š</p><ol><li>åœ¨ GitHub ä¸Šæ–°å»ºä¸€ä¸ªä»“åº“ï¼Œå« <code>hexo-blog-source</code> (åå­—éšæ„ï¼Œè®¾ä¸º Private ç§æœ‰ä»“åº“æœ€å¥½)ã€‚</li><li>æŠŠä½ çš„ <code>s</code> æ–‡ä»¶å¤¹æ•´ä¸ªä¸Šä¼ åˆ°è¿™ä¸ªæ–°ä»“åº“é‡Œå¤‡ä»½ã€‚</li><li>ä»¥åæ¯æ¬¡å†™å®Œï¼Œé™¤äº† <code>hexo d</code> å‘å¸ƒç½‘é¡µå¤–ï¼Œè®°å¾—ä¹Ÿè¦æŠŠæºç  <code>git push</code> åˆ°è¿™ä¸ªç§æœ‰ä»“åº“å¤‡ä»½ã€‚</li></ol><p>ç°åœ¨ï¼Œä½ çš„åšå®¢æŠ€èƒ½æ ‘å·²ç»ç‚¹æ»¡äº†ï¼å»å†™ä¸‹ä½ çš„ç¬¬ä¸€ç¯‡æŠ€æœ¯æ€»ç»“å§ï¼ğŸš€</p>]]></content>
    
    
    <categories>
      
      <category>Guide</category>
      
    </categories>
    
    
    <tags>
      
      <tag>how to use io</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>my first blog</title>
    <link href="/2025/11/28/my-first-blog/"/>
    <url>/2025/11/28/my-first-blog/</url>
    
    <content type="html"><![CDATA[<p>ä»¥æ­¤æ¥çºªå¿µæˆ‘åˆ›ä½œçš„ç¬¬ä¸€ç¯‡åšå®¢ï¼<br>(å»ºè®®æŠŠè¿™å¥è¯å†™åœ¨æ­£æ–‡é‡Œï¼Œè€Œä¸æ˜¯ä½œä¸ºæ ‡ç­¾)</p>]]></content>
    
    
    <categories>
      
      <category>Blog</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Start Blog</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>

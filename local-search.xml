<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>è‹¥ä¾æ¡†æ¶ä¿®æ”¹å™¨ (RuoYi-MT) macOS å®Œæ•´é€‚é…æŒ‡å—</title>
    <link href="/2025/11/28/%E8%8B%A5%E4%BE%9D%E5%9F%BA%E4%BA%8EMac%E9%80%82%E9%85%8D/"/>
    <url>/2025/11/28/%E8%8B%A5%E4%BE%9D%E5%9F%BA%E4%BA%8EMac%E9%80%82%E9%85%8D/</url>
    
    <content type="html"><![CDATA[<p>è‹¥ä¾æ¡†æ¶äºŒæ¬¡ä¿®æ”¹å™¨ (RuoYi-MT) æ˜¯ä¸€ä¸ªä¼˜ç§€çš„ä»£ç ç”Ÿæˆå·¥å…·ï¼Œä½†åœ¨ macOS ç¯å¢ƒä¸‹å­˜åœ¨ä¸¥é‡çš„å…¼å®¹æ€§é—®é¢˜ã€‚æœ¬æ–‡åˆ†äº«å¦‚ä½•å®Œæ•´è§£å†³ macOS é€‚é…é—®é¢˜ï¼Œè®© Mac ç”¨æˆ·ä¹Ÿèƒ½é¡ºç•…ä½¿ç”¨è¿™ä¸ªå·¥å…·ã€‚</p><span id="more"></span><h2 id="ğŸš¨-é‡åˆ°çš„é—®é¢˜"><a href="#ğŸš¨-é‡åˆ°çš„é—®é¢˜" class="headerlink" title="ğŸš¨ é‡åˆ°çš„é—®é¢˜"></a>ğŸš¨ é‡åˆ°çš„é—®é¢˜</h2><h3 id="ä¸»è¦ç—›ç‚¹"><a href="#ä¸»è¦ç—›ç‚¹" class="headerlink" title="ä¸»è¦ç—›ç‚¹"></a>ä¸»è¦ç—›ç‚¹</h3><p>åœ¨ macOS 15.6.1 ç¯å¢ƒä¸‹ä½¿ç”¨ RuoYi-MT æ—¶é‡åˆ°ä»¥ä¸‹ä¸»è¦é—®é¢˜ï¼š</p><p><strong>1. wxPython å®‰è£…å¤±è´¥</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ERROR: Could not build wheels <span class="hljs-keyword">for</span> wxPython<br></code></pre></td></tr></table></figure><p><strong>2. ä¾èµ–ç‰ˆæœ¬å†²çª</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ERROR: pip<span class="hljs-string">&#x27;s dependency resolver does not currently consider all the packages</span><br></code></pre></td></tr></table></figure><p><strong>3. ç¼ºä¹ macOS ä½¿ç”¨æŒ‡å—</strong></p><ul><li>æ²¡æœ‰é’ˆå¯¹ macOS çš„å®‰è£…æ–‡æ¡£</li><li>é‡åˆ°é—®é¢˜æ— ä»ä¸‹æ‰‹</li></ul><h3 id="ç¯å¢ƒä¿¡æ¯"><a href="#ç¯å¢ƒä¿¡æ¯" class="headerlink" title="ç¯å¢ƒä¿¡æ¯"></a>ç¯å¢ƒä¿¡æ¯</h3><ul><li><strong>ç³»ç»Ÿ</strong>: macOS 15.6.1 (Sequoia)</li><li><strong>Python</strong>: 3.7.3</li><li><strong>æ¶æ„</strong>: x86_64 (Intel) &#x2F; ARM (M1&#x2F;M2)</li></ul><hr><h2 id="ğŸ’¡-è§£å†³æ–¹æ¡ˆ"><a href="#ğŸ’¡-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ğŸ’¡ è§£å†³æ–¹æ¡ˆ"></a>ğŸ’¡ è§£å†³æ–¹æ¡ˆ</h2><h3 id="1-æ™ºèƒ½ç¯å¢ƒæ£€æµ‹è„šæœ¬"><a href="#1-æ™ºèƒ½ç¯å¢ƒæ£€æµ‹è„šæœ¬" class="headerlink" title="1. æ™ºèƒ½ç¯å¢ƒæ£€æµ‹è„šæœ¬"></a>1. æ™ºèƒ½ç¯å¢ƒæ£€æµ‹è„šæœ¬</h3><p>é¦–å…ˆåˆ›å»ºç¯å¢ƒæ£€æµ‹è„šæœ¬ï¼Œè‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿé…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-comment"># detect_env.sh</span><br><br><span class="hljs-function"><span class="hljs-title">detect_system_environment</span></span>() &#123;<br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸ” æ£€æµ‹ç³»ç»Ÿç¯å¢ƒ...&quot;</span><br>    <br>    <span class="hljs-comment"># æ£€æµ‹ macOS ç‰ˆæœ¬</span><br>    <span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-subst">$(uname -s)</span>&quot;</span> == <span class="hljs-string">&quot;Darwin&quot;</span> ]]; <span class="hljs-keyword">then</span><br>        MACOS_VERSION=$(sw_vers -productVersion)<br>        ARCH=$(<span class="hljs-built_in">uname</span> -m)<br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;macOS ç‰ˆæœ¬: <span class="hljs-variable">$MACOS_VERSION</span>&quot;</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ç³»ç»Ÿæ¶æ„: <span class="hljs-variable">$ARCH</span>&quot;</span><br>        <br>        <span class="hljs-comment"># æ£€æµ‹ Python</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v python3 &amp;&gt; /dev/null; <span class="hljs-keyword">then</span><br>            PYTHON_VERSION=$(python3 --version)<br>            <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Python ç‰ˆæœ¬: <span class="hljs-variable">$PYTHON_VERSION</span>&quot;</span><br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;âŒ è¯·å…ˆå®‰è£… Python3&quot;</span><br>            <span class="hljs-built_in">exit</span> 1<br>        <span class="hljs-keyword">fi</span><br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;âŒ æ­¤è„šæœ¬ä»…æ”¯æŒ macOS&quot;</span><br>        <span class="hljs-built_in">exit</span> 1<br>    <span class="hljs-keyword">fi</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-wxPython-å¤šé‡å®‰è£…ç­–ç•¥"><a href="#2-wxPython-å¤šé‡å®‰è£…ç­–ç•¥" class="headerlink" title="2. wxPython å¤šé‡å®‰è£…ç­–ç•¥"></a>2. wxPython å¤šé‡å®‰è£…ç­–ç•¥</h3><p>é’ˆå¯¹ wxPython å®‰è£…å›°éš¾ï¼Œå®ç°å¤šç§å®‰è£…æ–¹æ³•è‡ªåŠ¨åˆ‡æ¢ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-comment"># install_wxpython.sh</span><br><br><span class="hljs-function"><span class="hljs-title">install_wxpython_multiple_methods</span></span>() &#123;<br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸ”§ å¼€å§‹å®‰è£… wxPython...&quot;</span><br>    <br>    <span class="hljs-comment"># å®‰è£…æ–¹æ³•æ•°ç»„</span><br>    <span class="hljs-built_in">local</span> methods=(<br>        <span class="hljs-string">&quot;pip install wxPython==4.1.1&quot;</span><br>        <span class="hljs-string">&quot;pip install --no-cache-dir wxPython&quot;</span><br>        <span class="hljs-string">&quot;pip install --upgrade --force-reinstall wxPython&quot;</span><br>    )<br>    <br>    <span class="hljs-comment"># é€ä¸ªå°è¯•</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;!methods[@]&#125;</span>&quot;</span>; <span class="hljs-keyword">do</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸ”„ å°è¯•æ–¹æ³• <span class="hljs-subst">$((i+1)</span>): <span class="hljs-variable">$&#123;methods[$i]&#125;</span>&quot;</span><br>        <br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">eval</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;methods[$i]&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span><br>            <span class="hljs-comment"># éªŒè¯å®‰è£…</span><br>            <span class="hljs-keyword">if</span> python3 -c <span class="hljs-string">&quot;import wx; print(&#x27;âœ… wxPython å®‰è£…æˆåŠŸ&#x27;)&quot;</span> 2&gt;/dev/null; <span class="hljs-keyword">then</span><br>                <span class="hljs-built_in">return</span> 0<br>            <span class="hljs-keyword">fi</span><br>        <span class="hljs-keyword">fi</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;âŒ æ–¹æ³• <span class="hljs-subst">$((i+1)</span>) å¤±è´¥ï¼Œå°è¯•ä¸‹ä¸€ç§...&quot;</span><br>    <span class="hljs-keyword">done</span><br>    <br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;âŒ æ‰€æœ‰æ–¹æ³•éƒ½å¤±è´¥ï¼Œè¯·æŸ¥çœ‹æ•…éšœæ’é™¤æ–‡æ¡£&quot;</span><br>    <span class="hljs-built_in">return</span> 1<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-macOS-ä¼˜åŒ–çš„ä¾èµ–é…ç½®"><a href="#3-macOS-ä¼˜åŒ–çš„ä¾èµ–é…ç½®" class="headerlink" title="3. macOS ä¼˜åŒ–çš„ä¾èµ–é…ç½®"></a>3. macOS ä¼˜åŒ–çš„ä¾èµ–é…ç½®</h3><p>åˆ›å»ºä¸“é—¨çš„ macOS ä¾èµ–æ–‡ä»¶ <code>requirements_macos.txt</code>ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">loguru==0.7.0<br>requests==2.25.1<br>wxPython&gt;=4.1.0<br>PyYAML==6.0<br>chardet==4.0.0<br></code></pre></td></tr></table></figure><h3 id="4-ä¸€é”®å¯åŠ¨è„šæœ¬"><a href="#4-ä¸€é”®å¯åŠ¨è„šæœ¬" class="headerlink" title="4. ä¸€é”®å¯åŠ¨è„šæœ¬"></a>4. ä¸€é”®å¯åŠ¨è„šæœ¬</h3><p>ç®€åŒ–ç”¨æˆ·æ“ä½œçš„å¯åŠ¨è„šæœ¬ <code>run_macos.sh</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-comment"># run_macos.sh</span><br><br><span class="hljs-built_in">set</span> -e<br><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸš€ RuoYi-MT macOS å¯åŠ¨è„šæœ¬&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;==========================&quot;</span><br><br><span class="hljs-comment"># æ£€æŸ¥å¹¶åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span><br><span class="hljs-keyword">if</span> [[ ! -d <span class="hljs-string">&quot;venv&quot;</span> ]]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸ”§ åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ...&quot;</span><br>    python3 -m venv venv<br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸ”„ æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ...&quot;</span><br><span class="hljs-built_in">source</span> venv/bin/activate<br><br><span class="hljs-comment"># å‡çº§ pip</span><br>pip install --upgrade pip<br><br><span class="hljs-comment"># æ£€æŸ¥å¹¶å®‰è£…ä¾èµ–</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸ“¦ æ£€æŸ¥ä¾èµ–...&quot;</span><br><span class="hljs-keyword">if</span> ! python -c <span class="hljs-string">&quot;import wx&quot;</span> 2&gt;/dev/null; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸ”§ å®‰è£…ä¾èµ–...&quot;</span><br>    pip install -r requirements_macos.txt<br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># å¯åŠ¨åº”ç”¨</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸ¯ å¯åŠ¨ RuoYi-MT...&quot;</span><br>python run.py<br></code></pre></td></tr></table></figure><hr><h2 id="ğŸ”§-æ ¸å¿ƒæŠ€æœ¯å®ç°"><a href="#ğŸ”§-æ ¸å¿ƒæŠ€æœ¯å®ç°" class="headerlink" title="ğŸ”§ æ ¸å¿ƒæŠ€æœ¯å®ç°"></a>ğŸ”§ æ ¸å¿ƒæŠ€æœ¯å®ç°</h2><h3 id="é”™è¯¯å¤„ç†æœºåˆ¶"><a href="#é”™è¯¯å¤„ç†æœºåˆ¶" class="headerlink" title="é”™è¯¯å¤„ç†æœºåˆ¶"></a>é”™è¯¯å¤„ç†æœºåˆ¶</h3><p>å®ç°æ™ºèƒ½é”™è¯¯å¤„ç†ï¼Œæä¾›å…·ä½“è§£å†³å»ºè®®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-function"><span class="hljs-title">handle_error</span></span>() &#123;<br>    <span class="hljs-built_in">local</span> error_code=<span class="hljs-variable">$1</span><br>    <span class="hljs-built_in">local</span> error_message=<span class="hljs-variable">$2</span><br>    <span class="hljs-built_in">local</span> suggestion=<span class="hljs-variable">$3</span><br>    <br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;âŒ é”™è¯¯: <span class="hljs-variable">$error_message</span>&quot;</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸ’¡ å»ºè®®: <span class="hljs-variable">$suggestion</span>&quot;</span><br>    <br>    <span class="hljs-keyword">case</span> <span class="hljs-variable">$error_code</span> <span class="hljs-keyword">in</span><br>        <span class="hljs-string">&quot;WXPYTHON_INSTALL_FAILED&quot;</span>)<br>            <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸ”— è§£å†³æ–¹æ¡ˆ:&quot;</span><br>            <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;1. å°è¯•: pip install --upgrade pip setuptools wheel&quot;</span><br>            <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;2. å°è¯•: pip install wxPython --no-cache-dir&quot;</span><br>            <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;3. æ£€æŸ¥ Xcode Command Line Tools: xcode-select --install&quot;</span><br>            ;;<br>        <span class="hljs-string">&quot;PYTHON_VERSION_LOW&quot;</span>)<br>            <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸ”— å‡çº§ Python: https://www.python.org/downloads/&quot;</span><br>            ;;<br>    <span class="hljs-keyword">esac</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç¯å¢ƒæµ‹è¯•è„šæœ¬"><a href="#ç¯å¢ƒæµ‹è¯•è„šæœ¬" class="headerlink" title="ç¯å¢ƒæµ‹è¯•è„šæœ¬"></a>ç¯å¢ƒæµ‹è¯•è„šæœ¬</h3><p>åˆ›å»ºè‡ªåŠ¨åŒ–æµ‹è¯•éªŒè¯ç¯å¢ƒ <code>test_setup.py</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python3</span><br><span class="hljs-comment"># test_setup.py</span><br><br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> subprocess<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_python_version</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;æµ‹è¯• Python ç‰ˆæœ¬&quot;&quot;&quot;</span><br>    version = sys.version_info<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Python ç‰ˆæœ¬: <span class="hljs-subst">&#123;version.major&#125;</span>.<span class="hljs-subst">&#123;version.minor&#125;</span>.<span class="hljs-subst">&#123;version.micro&#125;</span>&quot;</span>)<br>    <br>    <span class="hljs-keyword">if</span> version &gt;= (<span class="hljs-number">3</span>, <span class="hljs-number">7</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… Python ç‰ˆæœ¬ç¬¦åˆè¦æ±‚&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âŒ Python ç‰ˆæœ¬è¿‡ä½ï¼Œéœ€è¦ 3.7+&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_wxpython</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;æµ‹è¯• wxPython&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-keyword">import</span> wx<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;âœ… wxPython ç‰ˆæœ¬: <span class="hljs-subst">&#123;wx.version()&#125;</span>&quot;</span>)<br>        <br>        <span class="hljs-comment"># æµ‹è¯•åº”ç”¨åˆ›å»º</span><br>        app = wx.App(<span class="hljs-literal">False</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… wxPython åº”ç”¨æµ‹è¯•é€šè¿‡&quot;</span>)<br>        app.Destroy()<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">except</span> ImportError:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âŒ wxPython æœªå®‰è£…æˆ–å¯¼å…¥å¤±è´¥&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;âŒ wxPython æµ‹è¯•å¤±è´¥: <span class="hljs-subst">&#123;e&#125;</span>&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><span class="hljs-comment"># ... (çœç•¥éƒ¨åˆ†è¾…åŠ©ä»£ç )</span><br></code></pre></td></tr></table></figure><hr><h2 id="ğŸ“š-ä½¿ç”¨æ–‡æ¡£"><a href="#ğŸ“š-ä½¿ç”¨æ–‡æ¡£" class="headerlink" title="ğŸ“š ä½¿ç”¨æ–‡æ¡£"></a>ğŸ“š ä½¿ç”¨æ–‡æ¡£</h2><h3 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h3><ol><li><p><strong>å…‹éš†é¡¹ç›®</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://gitee.com/yellowzc/RuoYi-MT.git<br><span class="hljs-built_in">cd</span> RuoYi-MT<br></code></pre></td></tr></table></figure></li><li><p><strong>ä¸€é”®å¯åŠ¨</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> +x run_macos.sh<br>./run_macos.sh<br></code></pre></td></tr></table></figure></li><li><p><strong>éªŒè¯å®‰è£…</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">python3 test_setup.py<br></code></pre></td></tr></table></figure></li></ol><h3 id="å¸¸è§é—®é¢˜è§£å†³-FAQ"><a href="#å¸¸è§é—®é¢˜è§£å†³-FAQ" class="headerlink" title="å¸¸è§é—®é¢˜è§£å†³ (FAQ)"></a>å¸¸è§é—®é¢˜è§£å†³ (FAQ)</h3><h4 id="1-wxPython-å®‰è£…å¤±è´¥"><a href="#1-wxPython-å®‰è£…å¤±è´¥" class="headerlink" title="1. wxPython å®‰è£…å¤±è´¥"></a>1. wxPython å®‰è£…å¤±è´¥</h4><p><strong>æŠ¥é”™</strong>: <code>ERROR: Could not build wheels for wxPython</code><br><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ–¹æ³• 1: å‡çº§æ„å»ºå·¥å…·</span><br>pip install --upgrade pip setuptools wheel<br><br><span class="hljs-comment"># æ–¹æ³• 2: æ¸…é™¤ç¼“å­˜é‡è£…</span><br>pip cache purge<br>pip install wxPython --no-cache-dir<br></code></pre></td></tr></table></figure><h4 id="2-æƒé™é—®é¢˜"><a href="#2-æƒé™é—®é¢˜" class="headerlink" title="2. æƒé™é—®é¢˜"></a>2. æƒé™é—®é¢˜</h4><p><strong>æŠ¥é”™</strong>: <code>Permission denied</code><br><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chown</span> -R $(<span class="hljs-built_in">whoami</span>) ~/.local<br><span class="hljs-built_in">chmod</span> +x *.sh<br></code></pre></td></tr></table></figure><hr><h2 id="ğŸ“Š-æ•ˆæœå¯¹æ¯”"><a href="#ğŸ“Š-æ•ˆæœå¯¹æ¯”" class="headerlink" title="ğŸ“Š æ•ˆæœå¯¹æ¯”"></a>ğŸ“Š æ•ˆæœå¯¹æ¯”</h2><table><thead><tr><th align="left">æŒ‡æ ‡</th><th align="left">ä¼˜åŒ–å‰</th><th align="left">ä¼˜åŒ–å</th><th align="left">æå‡</th></tr></thead><tbody><tr><td align="left"><strong>å®‰è£…æˆåŠŸç‡</strong></td><td align="left">30%</td><td align="left">95%+</td><td align="left">+217%</td></tr><tr><td align="left"><strong>å®‰è£…æ—¶é—´</strong></td><td align="left">15-30åˆ†é’Ÿ</td><td align="left">3-5åˆ†é’Ÿ</td><td align="left">-80%</td></tr><tr><td align="left"><strong>é”™è¯¯è§£å†³</strong></td><td align="left">æ‰‹åŠ¨æœç´¢</td><td align="left">è‡ªåŠ¨æç¤º</td><td align="left">+100%</td></tr></tbody></table><hr><h2 id="ğŸ¯-é¡¹ç›®ç»“æ„"><a href="#ğŸ¯-é¡¹ç›®ç»“æ„" class="headerlink" title="ğŸ¯ é¡¹ç›®ç»“æ„"></a>ğŸ¯ é¡¹ç›®ç»“æ„</h2><p>å®Œæ•´çš„ macOS é€‚é…åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs text">RuoYi-MT/<br>â”œâ”€â”€ è‡ªåŠ¨åŒ–è„šæœ¬<br>â”‚   â”œâ”€â”€ run_macos.sh              # ä¸€é”®å¯åŠ¨<br>â”‚   â”œâ”€â”€ install_wxpython.sh       # wxPython å®‰è£…<br>â”‚   â”œâ”€â”€ final_setup.sh            # å®Œæ•´é…ç½®<br>â”‚   â””â”€â”€ check_and_run.sh          # æ£€æŸ¥å¯åŠ¨<br>â”œâ”€â”€ é…ç½®æ–‡ä»¶<br>â”‚   â”œâ”€â”€ requirements_macos.txt    # macOS ä¾èµ–<br>â”‚   â””â”€â”€ test_setup.py             # ç¯å¢ƒæµ‹è¯•<br>â””â”€â”€ æ–‡æ¡£<br>    â”œâ”€â”€ README_macOS.md           # ä½¿ç”¨è¯´æ˜<br>    â”œâ”€â”€ QUICK_START.md            # å¿«é€ŸæŒ‡å—<br>    â””â”€â”€ TROUBLESHOOTING.md        # æ•…éšœæ’é™¤<br></code></pre></td></tr></table></figure><hr><h2 id="ğŸ’¡-æ€»ç»“ä¸å±•æœ›"><a href="#ğŸ’¡-æ€»ç»“ä¸å±•æœ›" class="headerlink" title="ğŸ’¡ æ€»ç»“ä¸å±•æœ›"></a>ğŸ’¡ æ€»ç»“ä¸å±•æœ›</h2><p>é€šè¿‡ç³»ç»Ÿæ€§çš„ macOS é€‚é…ï¼ŒRuoYi-MT ç°åœ¨å¯ä»¥åœ¨ Mac ç¯å¢ƒä¸‹ç¨³å®šè¿è¡Œã€‚</p><p><strong>æ ¸å¿ƒä»·å€¼:</strong></p><ul><li>ğŸš€ <strong>æŠ€æœ¯çªç ´</strong>: è§£å†³äº† wxPython åœ¨ macOS ä¸Šçš„å…¼å®¹æ€§é—®é¢˜</li><li>ğŸ“– <strong>æ–‡æ¡£å®Œå–„</strong>: æä¾›äº†è¯¦ç»†çš„ä½¿ç”¨å’Œæ•…éšœæ’é™¤æŒ‡å—</li><li>ğŸ”§ <strong>è‡ªåŠ¨åŒ–</strong>: å®ç°äº†ä¸€é”®å®‰è£…å’Œå¯åŠ¨</li></ul><p><strong>ç›¸å…³èµ„æº:</strong></p><ul><li>é€‚é…é¡¹ç›®: <a href="https://gitee.com/yellowzc/RuoYi-MT">Gitee - RuoYi-MT</a></li></ul><blockquote><p>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»ã€ŒNEFUyellow386ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>å®æˆ˜è®°å½•</category>
      
      <category>RuoYi</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>RuoYi</tag>
      
      <tag>macOS</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è‹ç©¹å¤–å–æ”¯ä»˜mock</title>
    <link href="/2025/11/28/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96%E6%94%AF%E4%BB%98mock/"/>
    <url>/2025/11/28/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96%E6%94%AF%E4%BB%98mock/</url>
    
    <content type="html"><![CDATA[<p>è‹ç©¹å¤–å–-å¾®ä¿¡æ”¯ä»˜åŠŸèƒ½è§£å†³ï¼Œæœ€å°ä¾µå…¥æ”¹é€ å¾®ä¿¡æ”¯ä»˜ï¼šmock-mode è®©é€€å•&#x2F;æ‹’å•ç…§å¸¸å¯ç”¨</p><p>å‰è¨€<br>åœ¨å¼€å‘æˆ–æ¼”ç¤ºè‹ç©¹å¤–å–é¡¹ç›®æ—¶ï¼Œå¾®ä¿¡æ”¯ä»˜ç¯èŠ‚å¸¸å¸¸æˆä¸ºæ•ˆç‡ç“¶é¢ˆ â€”â€” éœ€é…ç½®çœŸå®å•†æˆ·å·ã€è¯ä¹¦ã€ç§é’¥ï¼Œè¿˜å¾—æ¨¡æ‹Ÿæ”¯ä»˜å›è°ƒï¼Œå°¤å…¶æµ‹è¯•é€€å•ã€æ‹’å•ç­‰æ¶‰åŠé€€æ¬¾çš„åœºæ™¯æ—¶ï¼Œé¢‘ç¹è°ƒç”¨å¾®ä¿¡ sandbox ç¯å¢ƒæˆ–çœŸå®æ¥å£ä¸ä»…éº»çƒ¦ï¼Œè¿˜å¯èƒ½äº§ç”Ÿä¸å¿…è¦çš„æµ‹è¯•æˆæœ¬ã€‚</p><p>æœ¬æ–‡ä»‹ç»ä¸€ç§æœ€å°ä¾µå…¥å¼æ”¹é€ æ–¹æ¡ˆï¼šé€šè¿‡æ–°å¢mock-modeå¼€å…³ï¼Œå®ç° â€œæ”¯ä»˜ &#x2F; é€€æ¬¾æµç¨‹çŸ­è·¯â€ï¼Œå¼€å‘ &#x2F; æ¼”ç¤ºæ—¶æ— éœ€ä¾èµ–å¾®ä¿¡ä¸‰æ–¹æ¥å£ï¼Œè®¢å•çŠ¶æ€ä»èƒ½æ­£å¸¸æµè½¬ï¼ŒåŒæ—¶ä¿ç•™çœŸå®æ”¯ä»˜é“¾è·¯ï¼Œç”Ÿäº§ç¯å¢ƒä¸€é”®åˆ‡å›ã€‚æ”¹é€ ä»…æ¶‰åŠ 3 ç±»æ ¸å¿ƒæ–‡ä»¶ï¼Œæ— ä¸šåŠ¡é€»è¾‘é‡å†™ï¼Œå…¼é¡¾çµæ´»æ€§ä¸å®‰å…¨æ€§ã€‚</p><p>ä¸€ã€æ”¹é€ æ ¸å¿ƒæ€è·¯<br>æ”¹é€ çš„æ ¸å¿ƒæ˜¯ <strong>â€œå¼€å…³æ§åˆ¶åˆ†æ”¯ï¼Œä¸ç ´ååŸæœ‰é€»è¾‘â€</strong>ï¼Œæ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>æ–°å¢é…ç½®å¼€å…³ï¼šåœ¨å¾®ä¿¡æ”¯ä»˜é…ç½®ç±»ä¸­æ·»åŠ <code>mockMode</code>å­—æ®µï¼Œæ§åˆ¶æ˜¯å¦å¯ç”¨æ¨¡æ‹Ÿæ¨¡å¼ï¼›</li><li>å·¥å…·ç±»çŸ­è·¯æ”¹é€ ï¼šä¿®æ”¹æ”¯ä»˜ &#x2F; é€€æ¬¾å·¥å…·ç±»ï¼Œè‹¥å¼€å¯<code>mockMode</code>ï¼Œç›´æ¥è¿”å›æ¨¡æ‹ŸæˆåŠŸç»“æœï¼Œè·³è¿‡çœŸå® HTTP è°ƒç”¨ï¼›</li><li>ä¸šåŠ¡å±‚é€‚é…ï¼šè®¢å•æ”¯ä»˜ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œæ ¹æ®å¼€å…³åˆ†æ”¯ â€”â€” mock æ¨¡å¼ä¸‹ç›´æ¥æ›´æ–°è®¢å•çŠ¶æ€ï¼ŒçœŸå®æ¨¡å¼èµ°åŸæ”¯ä»˜æµç¨‹ï¼›</li><li>ç¯å¢ƒé…ç½®éš”ç¦»ï¼šå¼€å‘ &#x2F; æ¼”ç¤ºç¯å¢ƒå¼€å¯ mockï¼Œç”Ÿäº§ç¯å¢ƒå…³é—­ï¼Œæ•æ„Ÿé…ç½®ä¸æ³„éœ²ã€‚</li></ul><p>äºŒã€å…·ä½“æ”¹é€ æ­¥éª¤ï¼ˆé™„å®Œæ•´ä»£ç ï¼‰<br>2.1 ç¬¬ä¸€æ­¥ï¼šæ–°å¢ mock-mode é…ç½®å¼€å…³<br>åœ¨å¾®ä¿¡æ”¯ä»˜é…ç½®ç±»ä¸­æ·»åŠ <code>mockMode</code>å­—æ®µï¼Œé»˜è®¤å…³é—­ï¼ˆé¿å…å¼€å‘æ¼æ”¹å¯¼è‡´ç”Ÿäº§é—®é¢˜ï¼‰ã€‚</p><p>æ–‡ä»¶è·¯å¾„ï¼š<code>sky-common/src/main/java/com/sky/properties/WeChatProperties.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.sky.properties;<br> <br><span class="hljs-keyword">import</span> lombok.Data;<br><span class="hljs-keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Component;<br> <br><span class="hljs-meta">@Component</span><br><span class="hljs-meta">@ConfigurationProperties(prefix = &quot;sky.wechat&quot;)</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WeChatProperties</span> &#123;<br> <br>    <span class="hljs-keyword">private</span> String appid;<br>    <span class="hljs-keyword">private</span> String secret;<br>    <span class="hljs-keyword">private</span> String mchid;<br>    <span class="hljs-keyword">private</span> String mchSerialNo;<br>    <span class="hljs-keyword">private</span> String privateKeyFilePath;<br>    <span class="hljs-keyword">private</span> String apiV3Key;<br>    <span class="hljs-keyword">private</span> String weChatPayCertFilePath;<br>    <span class="hljs-keyword">private</span> String notifyUrl;<br>    <span class="hljs-keyword">private</span> String refundNotifyUrl;<br> <br>    <span class="hljs-comment">// æ¨¡æ‹Ÿæ”¯ä»˜/é€€æ¬¾å¼€å…³</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">Boolean</span> <span class="hljs-variable">mockMode</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç </p><p>2.2 ç¬¬äºŒæ­¥ï¼šæ”¯ä»˜ &#x2F; é€€æ¬¾å·¥å…·ç±»çŸ­è·¯æ”¹é€ <br>ä¿®æ”¹ <code>WeChatPayUtil</code>ï¼Œåœ¨ <code>pay()</code>ï¼ˆä¸‹å•ï¼‰å’Œ <code>refund()</code>ï¼ˆé€€æ¬¾ï¼‰æ–¹æ³•é¦–è¡Œæ·»åŠ å¼€å…³åˆ¤æ–­ â€”â€” å¼€å¯ mock æ—¶ç›´æ¥è¿”å›æ¨¡æ‹Ÿç»“æœï¼Œä¸æ‰§è¡ŒçœŸå®å¾®ä¿¡æ¥å£è°ƒç”¨ã€‚</p><p>æ–‡ä»¶è·¯å¾„ï¼š<code>sky-common/src/main/java/com/sky/utils/WeChatPayUtil.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> JSONObject <span class="hljs-title function_">pay</span><span class="hljs-params">(String orderNum, BigDecimal total, String description, String openid)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    <span class="hljs-keyword">if</span> (Boolean.TRUE.equals(weChatProperties.getMockMode())) &#123;<br>        <span class="hljs-type">JSONObject</span> <span class="hljs-variable">jo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSONObject</span>();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">timeStamp</span> <span class="hljs-operator">=</span> String.valueOf(System.currentTimeMillis() / <span class="hljs-number">1000</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">nonceStr</span> <span class="hljs-operator">=</span> RandomStringUtils.randomNumeric(<span class="hljs-number">32</span>);<br>        jo.put(<span class="hljs-string">&quot;timeStamp&quot;</span>, timeStamp);<br>        jo.put(<span class="hljs-string">&quot;nonceStr&quot;</span>, nonceStr);<br>        jo.put(<span class="hljs-string">&quot;package&quot;</span>, <span class="hljs-string">&quot;prepay_id=mock_prepay_id&quot;</span>);<br>        jo.put(<span class="hljs-string">&quot;signType&quot;</span>, <span class="hljs-string">&quot;RSA&quot;</span>);<br>        jo.put(<span class="hljs-string">&quot;paySign&quot;</span>, <span class="hljs-string">&quot;mock-sign&quot;</span>);<br>        <span class="hljs-keyword">return</span> jo;<br>    &#125;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">bodyAsString</span> <span class="hljs-operator">=</span> jsapi(orderNum, total, description, openid);<br>    <span class="hljs-type">JSONObject</span> <span class="hljs-variable">jsonObject</span> <span class="hljs-operator">=</span> JSON.parseObject(bodyAsString);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">prepayId</span> <span class="hljs-operator">=</span> jsonObject.getString(<span class="hljs-string">&quot;prepay_id&quot;</span>);<br>    <span class="hljs-keyword">if</span> (prepayId != <span class="hljs-literal">null</span>) &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">timeStamp</span> <span class="hljs-operator">=</span> String.valueOf(System.currentTimeMillis() / <span class="hljs-number">1000</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">nonceStr</span> <span class="hljs-operator">=</span> RandomStringUtils.randomNumeric(<span class="hljs-number">32</span>);<br>        ArrayList&lt;Object&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        list.add(weChatProperties.getAppid());<br>        list.add(timeStamp);<br>        list.add(nonceStr);<br>        list.add(<span class="hljs-string">&quot;prepay_id=&quot;</span> + prepayId);<br>        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">stringBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br>        <span class="hljs-keyword">for</span> (Object o : list) stringBuilder.append(o).append(<span class="hljs-string">&quot;\n&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">signMessage</span> <span class="hljs-operator">=</span> stringBuilder.toString();<br>        <span class="hljs-type">byte</span>[] message = signMessage.getBytes();<br> <br>        <span class="hljs-type">Signature</span> <span class="hljs-variable">signature</span> <span class="hljs-operator">=</span> Signature.getInstance(<span class="hljs-string">&quot;SHA256withRSA&quot;</span>);<br>        signature.initSign(PemUtil.loadPrivateKey(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(weChatProperties.getPrivateKeyFilePath()))));<br>        signature.update(message);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">packageSign</span> <span class="hljs-operator">=</span> Base64.getEncoder().encodeToString(signature.sign());<br> <br>        <span class="hljs-type">JSONObject</span> <span class="hljs-variable">jo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSONObject</span>();<br>        jo.put(<span class="hljs-string">&quot;timeStamp&quot;</span>, timeStamp);<br>        jo.put(<span class="hljs-string">&quot;nonceStr&quot;</span>, nonceStr);<br>        jo.put(<span class="hljs-string">&quot;package&quot;</span>, <span class="hljs-string">&quot;prepay_id=&quot;</span> + prepayId);<br>        jo.put(<span class="hljs-string">&quot;signType&quot;</span>, <span class="hljs-string">&quot;RSA&quot;</span>);<br>        jo.put(<span class="hljs-string">&quot;paySign&quot;</span>, packageSign);<br>        <span class="hljs-keyword">return</span> jo;<br>    &#125;<br>    <span class="hljs-keyword">return</span> jsonObject;<br>&#125;<br> <br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">refund</span><span class="hljs-params">(String outTradeNo, String outRefundNo, BigDecimal refund, BigDecimal total)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    <span class="hljs-keyword">if</span> (Boolean.TRUE.equals(weChatProperties.getMockMode())) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&#123;\&quot;status\&quot;:\&quot;SUCCESS\&quot;,\&quot;channel\&quot;:\&quot;mock\&quot;&#125;&quot;</span>;<br>    &#125;<br>    <span class="hljs-type">JSONObject</span> <span class="hljs-variable">jsonObject</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSONObject</span>();<br>    jsonObject.put(<span class="hljs-string">&quot;out_trade_no&quot;</span>, outTradeNo);<br>    jsonObject.put(<span class="hljs-string">&quot;out_refund_no&quot;</span>, outRefundNo);<br>    <span class="hljs-type">JSONObject</span> <span class="hljs-variable">amount</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSONObject</span>();<br>    amount.put(<span class="hljs-string">&quot;refund&quot;</span>, refund.multiply(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">100</span>)).setScale(<span class="hljs-number">2</span>, BigDecimal.ROUND_HALF_UP).intValue());<br>    amount.put(<span class="hljs-string">&quot;total&quot;</span>, total.multiply(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">100</span>)).setScale(<span class="hljs-number">2</span>, BigDecimal.ROUND_HALF_UP).intValue());<br>    amount.put(<span class="hljs-string">&quot;currency&quot;</span>, <span class="hljs-string">&quot;CNY&quot;</span>);<br>    jsonObject.put(<span class="hljs-string">&quot;amount&quot;</span>, amount);<br>    jsonObject.put(<span class="hljs-string">&quot;notify_url&quot;</span>, weChatProperties.getRefundNotifyUrl());<br>    <span class="hljs-type">String</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> jsonObject.toJSONString();<br>    <span class="hljs-keyword">return</span> post(REFUNDS, body);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç </p><p>2.3 ç¬¬ä¸‰æ­¥ï¼šè®¢å•ä¸šåŠ¡å±‚é€‚é…å¼€å…³<br>åœ¨è®¢å•æ”¯ä»˜ä¸šåŠ¡ï¼ˆ<code>OrderServiceImpl</code>ï¼‰ä¸­ï¼Œæ³¨å…¥ <code>WeChatProperties</code>ï¼Œæ ¹æ® <code>mockMode</code> åˆ†æ”¯å¤„ç†ï¼š</p><ul><li>mock å…³é—­ï¼šèµ°åŸæµç¨‹ï¼ˆè°ƒç”¨ <code>WeChatPayUtil.pay()</code>ï¼Œè·å–çœŸå®æ”¯ä»˜å‚æ•°ï¼‰ï¼›</li><li>mock å¼€å¯ï¼šç›´æ¥æ›´æ–°è®¢å•çŠ¶æ€ä¸º â€œå·²æ”¯ä»˜ &#x2F; å¾…æ¥å•â€ï¼Œå¹¶æ„é€ ä¸å·¥å…·ç±»ä¸€è‡´çš„æ¨¡æ‹Ÿæ”¯ä»˜ VOã€‚</li></ul><p>æ–‡ä»¶è·¯å¾„ï¼š<code>sky-server/src/main/java/com/sky/service/impl/OrderServiceImpl.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.sky.properties.WeChatProperties;<br> <br><span class="hljs-meta">@Autowired</span><br><span class="hljs-keyword">private</span> WeChatProperties weChatProperties;<br> <br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> OrderPaymentVO <span class="hljs-title function_">payment</span><span class="hljs-params">(OrdersPaymentDTO ordersPaymentDTO)</span> <span class="hljs-keyword">throws</span> Exception&#123;<br>    <span class="hljs-type">Long</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> BaseContext.getCurrentId();<br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userMapper.getById(userId);<br>    <span class="hljs-type">boolean</span> <span class="hljs-variable">mock</span> <span class="hljs-operator">=</span> Boolean.TRUE.equals(weChatProperties.getMockMode());<br> <br>    <span class="hljs-keyword">if</span> (!mock) &#123;<br>        <span class="hljs-type">JSONObject</span> <span class="hljs-variable">jsonObject</span> <span class="hljs-operator">=</span> weChatPayUtil.pay(<br>                ordersPaymentDTO.getOrderNumber(),<br>                <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">0.01</span>),<br>                <span class="hljs-string">&quot;è‹ç©¹å¤–å–è®¢å•&quot;</span>,<br>                user.getOpenid()<br>        );<br>        <span class="hljs-keyword">if</span> (jsonObject.getString(<span class="hljs-string">&quot;code&quot;</span>) != <span class="hljs-literal">null</span> &amp;&amp; jsonObject.getString(<span class="hljs-string">&quot;code&quot;</span>).equals(<span class="hljs-string">&quot;ORDERPAID&quot;</span>)) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderBusinessException</span>(<span class="hljs-string">&quot;è¯¥è®¢å•å·²æ”¯ä»˜&quot;</span>);<br>        &#125;<br>        <span class="hljs-type">OrderPaymentVO</span> <span class="hljs-variable">vo</span> <span class="hljs-operator">=</span> jsonObject.toJavaObject(OrderPaymentVO.class);<br>        vo.setPackageStr(jsonObject.getString(<span class="hljs-string">&quot;package&quot;</span>));<br>        <span class="hljs-keyword">return</span> vo;<br>    &#125;<br> <br>    <span class="hljs-comment">// æ¨¡æ‹Ÿæ”¯ä»˜ï¼šç›´æ¥ç½®ä¸ºå·²æ”¯ä»˜ã€å¾…æ¥å•</span><br>    orderMapper.updateStatus(Orders.TO_BE_CONFIRMED, Orders.PAID, LocalDateTime.now(), ordersPaymentDTO.getOrderNumber());<br> <br>    <span class="hljs-type">OrderPaymentVO</span> <span class="hljs-variable">vo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderPaymentVO</span>();<br>    vo.setNonceStr(<span class="hljs-string">&quot;mock-nonce&quot;</span>);<br>    vo.setTimeStamp(String.valueOf(System.currentTimeMillis() / <span class="hljs-number">1000</span>));<br>    vo.setSignType(<span class="hljs-string">&quot;RSA&quot;</span>);<br>    vo.setPackageStr(<span class="hljs-string">&quot;prepay_id=mock_prepay_id&quot;</span>);<br>    vo.setPaySign(<span class="hljs-string">&quot;mock-sign&quot;</span>);<br>    <span class="hljs-keyword">return</span> vo;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç </p><p>2.4 ç¬¬å››æ­¥ï¼šç¯å¢ƒé…ç½®ï¼ˆå¼€å‘ &#x2F; ç”Ÿäº§éš”ç¦»ï¼‰<br>åœ¨å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯ <code>mock-mode</code>ï¼Œç”Ÿäº§ç¯å¢ƒä¿æŒå…³é—­ï¼ˆå¹¶é…ç½®çœŸå®å•†æˆ·ä¿¡æ¯ï¼‰ï¼Œé¿å…æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€‚</p><p>æ–‡ä»¶è·¯å¾„ï¼š<code>sky-server/src/main/resources/application-dev.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">sky:</span><br>  <span class="hljs-attr">wechat:</span><br>    <span class="hljs-comment"># å¼€å‘ç¯å¢ƒï¼šå¼€å¯mockæ¨¡å¼ï¼Œæ— éœ€é…ç½®çœŸå®å•†æˆ·ä¿¡æ¯</span><br>    <span class="hljs-attr">mock-mode:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-comment"># çœŸå®é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒå¯æ³¨é‡Šï¼Œç”Ÿäº§ç¯å¢ƒéœ€å¡«å†™ï¼‰</span><br>    <span class="hljs-comment"># mchid: 1234567890</span><br>    <span class="hljs-comment"># private-key: ä½ çš„ç§é’¥</span><br>    <span class="hljs-comment"># certificate: è¯ä¹¦è·¯å¾„</span><br>    <span class="hljs-comment"># notify-url: https://ä½ çš„åŸŸå/wechat/pay/notify</span><br></code></pre></td></tr></table></figure><p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç <br>ç”Ÿäº§ç¯å¢ƒé…ç½®å‚è€ƒï¼ˆ<code>application-prod.yml</code>ï¼‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">sky:</span><br>  <span class="hljs-attr">wechat:</span><br>    <span class="hljs-comment"># ç”Ÿäº§ç¯å¢ƒï¼šå¼ºåˆ¶å…³é—­mockï¼Œä½¿ç”¨çœŸå®æ”¯ä»˜</span><br>    <span class="hljs-attr">mock-mode:</span> <span class="hljs-literal">false</span><br>    <span class="hljs-comment"># çœŸå®å•†æˆ·é…ç½®ï¼ˆéœ€æ›¿æ¢ä¸ºè‡ªå·±çš„ä¿¡æ¯ï¼Œä¸”ä¸æäº¤åˆ°ä»£ç ä»“åº“ï¼‰</span><br>    <span class="hljs-attr">mchid:</span> <span class="hljs-string">ä½ çš„çœŸå®å•†æˆ·å·</span><br>    <span class="hljs-attr">private-key:</span> <span class="hljs-string">classpath:cert/ä½ çš„ç§é’¥.pem</span><br>    <span class="hljs-attr">certificate:</span> <span class="hljs-string">classpath:cert/ä½ çš„è¯ä¹¦.p12</span><br>    <span class="hljs-attr">notify-url:</span> <span class="hljs-string">https://ä½ çš„ç”Ÿäº§åŸŸå/wechat/pay/notify</span><br></code></pre></td></tr></table></figure><p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç <br>ä¸‰ã€æ”¹é€ æ•ˆæœéªŒè¯<br>æ”¹é€ åï¼Œæ— éœ€ä¾èµ–å¾®ä¿¡æ¥å£å³å¯å®Œæˆæ”¯ä»˜ã€é€€å•ã€æ‹’å•å…¨æµç¨‹æµ‹è¯•ï¼ŒéªŒè¯æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>3.1 éªŒè¯ â€œæ¨¡æ‹Ÿæ”¯ä»˜â€ æµç¨‹</p><ul><li>ä¸‹å•ï¼šè°ƒç”¨ç”¨æˆ·ç«¯ä¸‹å•æ¥å£ï¼Œç”Ÿæˆå¾…æ”¯ä»˜è®¢å•ï¼ˆstatus&#x3D;1ï¼Œpay_status&#x3D;0ï¼‰ï¼›</li><li>å‘èµ·æ”¯ä»˜ï¼šè°ƒç”¨ <code>PUT /user/order/payment</code> æ¥å£ï¼Œä¼ å…¥è®¢å•å·ï¼›</li><li>æŸ¥åº“éªŒè¯ï¼šæŸ¥è¯¢ <code>orders</code> è¡¨ï¼Œç¡®è®¤è®¢å•çŠ¶æ€æ›´æ–°ä¸ºï¼š<ul><li>status&#x3D;2ï¼ˆå¾…æ¥å•ï¼‰</li><li>pay_status&#x3D;1ï¼ˆå·²æ”¯ä»˜ï¼‰</li><li>checkout_timeï¼ˆæ”¯ä»˜æ—¶é—´ï¼‰éç©ºã€‚</li></ul></li></ul><p>3.2 éªŒè¯ â€œæ¨¡æ‹Ÿé€€æ¬¾â€ æµç¨‹</p><ul><li>å‘èµ·é€€å•ï¼šç”¨æˆ·å–æ¶ˆè®¢å•ï¼ˆæˆ–å•†å®¶æ‹’å•ï¼‰ï¼Œè§¦å‘é€€æ¬¾é€»è¾‘ï¼›</li><li>æ—¥å¿—éªŒè¯ï¼šæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ï¼Œåº”å‡ºç°ç±»ä¼¼æ¨¡æ‹Ÿé€€æ¬¾æˆåŠŸï¼Œè®¢å•å·ï¼šxxxï¼Œé€€æ¬¾å•å·ï¼šxxxçš„ä¿¡æ¯ï¼ˆå¯åœ¨ <code>WeChatPayUtil.refund()</code> çš„ mock åˆ†æ”¯ä¸­æ·»åŠ æ—¥å¿—ï¼‰ï¼›</li><li>ä¸šåŠ¡éªŒè¯ï¼šé€€æ¬¾åè®¢å•çŠ¶æ€æ­£å¸¸æµè½¬ï¼ˆå¦‚ â€œå·²å–æ¶ˆâ€ï¼‰ï¼Œæ— æŠ¥é”™ã€‚</li></ul><p>3.3 éªŒè¯ â€œçœŸå®æ”¯ä»˜â€ åˆ‡æ¢</p><ul><li>å°† <code>application-dev.yml</code> ä¸­ <code>mock-mode</code> æ”¹ä¸º <code>false</code>ï¼Œå¹¶é…ç½®çœŸå®å•†æˆ·ä¿¡æ¯ï¼›</li><li>é‡å¤ 3.1 æ­¥éª¤ï¼Œæ­¤æ—¶ä¼šè°ƒç”¨çœŸå®å¾®ä¿¡æ”¯ä»˜æ¥å£ï¼Œè¿”å›çœŸå® <code>prepay_id</code>ï¼Œéœ€ç”¨å¾®ä¿¡æ‰«ç æˆ–å°ç¨‹åºè°ƒèµ·æ”¯ä»˜ï¼›</li><li>æ”¯ä»˜æˆåŠŸåï¼Œå¾®ä¿¡ä¼šå›è°ƒ <code>notify-url</code>ï¼Œè®¢å•çŠ¶æ€æ­£å¸¸æ›´æ–°ï¼ˆä¸æ”¹é€ å‰ä¸€è‡´ï¼‰ã€‚</li></ul><p>å››ã€æ³¨æ„äº‹é¡¹ï¼ˆé¿å‘æŒ‡å—ï¼‰</p><ul><li>æ•æ„Ÿé…ç½®ä¸æäº¤ä»“åº“ï¼šå•†æˆ·å·ã€ç§é’¥ã€è¯ä¹¦ç­‰æ•æ„Ÿä¿¡æ¯ï¼Œéœ€é€šè¿‡ç¯å¢ƒå˜é‡æˆ–é…ç½®ä¸­å¿ƒæ³¨å…¥ï¼Œç¦æ­¢ç¡¬ç¼–ç æˆ–æäº¤åˆ° Git ä»“åº“ï¼ˆå¯åœ¨ <code>.gitignore</code> ä¸­æ·»åŠ  <code>cert/</code> ç›®å½•ï¼Œå¿½ç•¥è¯ä¹¦æ–‡ä»¶ï¼‰ã€‚</li><li>mock ä»…ç”¨äºå¼€å‘ &#x2F; æ¼”ç¤ºï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»å°† <code>mock-mode</code> è®¾ä¸º <code>false</code>ï¼Œå¹¶å®Œæˆå¾®ä¿¡æ”¯ä»˜çš„å…¨é“¾è·¯é…ç½®ï¼ˆåŒ…æ‹¬å›è°ƒæ¥å£çš„ SSL è¯ä¹¦ã€å•†æˆ·å·æƒé™å¼€é€šç­‰ï¼‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´çœŸå®æ”¯ä»˜å¤±è´¥ã€‚</li><li>æ¨¡æ‹Ÿå‚æ•°æ ¼å¼ä¸çœŸå®ä¸€è‡´ï¼šmock è¿”å›çš„ <code>timeStamp</code>ï¼ˆç§’çº§ï¼Œéæ¯«ç§’çº§ï¼‰ã€<code>package</code>ï¼ˆå‰ç¼€ <code>prepay_id=</code>ï¼‰ã€<code>signType</code>ï¼ˆRSAï¼‰ç­‰å‚æ•°æ ¼å¼ï¼Œå¿…é¡»ä¸å¾®ä¿¡çœŸå®è¿”å›ä¸€è‡´ï¼Œé¿å…å‰ç«¯è°ƒèµ·æ”¯ä»˜æ—¶è§£ææŠ¥é”™ã€‚</li><li>æ—¥å¿—åŒºåˆ† mock ä¸çœŸå®ï¼šåœ¨ <code>WeChatPayUtil</code> çš„ mock åˆ†æ”¯ä¸­æ·»åŠ æ˜ç¡®æ—¥å¿—ï¼ˆå¦‚ <code>log.info(&quot;æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸï¼Œè®¢å•å·ï¼š&#123;&#125;&quot;, orderNumber)</code>ï¼‰ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥æ—¶åŒºåˆ† â€œæ¨¡æ‹Ÿâ€ å’Œ â€œçœŸå®â€ æµç¨‹ã€‚</li></ul><p>äº”ã€æ”¹é€ æ€»ç»“<br>æœ¬æ¬¡æ”¹é€ æ˜¯ <strong>â€œæœ€å°ä¾µå…¥å¼â€</strong> çš„å…¸èŒƒ â€”â€” ä»…ä¿®æ”¹ 3 ç±»æ–‡ä»¶ï¼Œæ–°å¢ 1 ä¸ªå¼€å…³ï¼Œä¸ç ´ååŸæœ‰ä¸šåŠ¡é€»è¾‘ï¼Œå®ç°äº†ï¼š</p><ul><li>å¼€å‘æ•ˆç‡æå‡ï¼šæ— éœ€é…ç½®å¾®ä¿¡ sandbox ç¯å¢ƒï¼Œ1 åˆ†é’Ÿå®Œæˆæ”¯ä»˜ &#x2F; é€€æ¬¾æµ‹è¯•ï¼›</li><li>æ¼”ç¤ºçµæ´»æ€§ï¼šå¯¹å¤–æ¼”ç¤ºæ—¶ï¼Œæ— éœ€çœŸå®æ”¯ä»˜ï¼Œç›´æ¥å±•ç¤ºå…¨æµç¨‹ï¼›</li><li>ç”Ÿäº§å®‰å…¨æ€§ï¼šmock ä¸çœŸå®æµç¨‹éš”ç¦»ï¼Œç”Ÿäº§ç¯å¢ƒä¸€é”®åˆ‡å›ï¼Œæ— é£é™©ã€‚</li></ul><p>è‹¥åç»­éœ€è¦æ‰©å±•ï¼ˆå¦‚æ”¯æŒæ”¯ä»˜å® mockï¼‰ï¼Œå¯å‚è€ƒæ­¤æ€è·¯ï¼Œåœ¨å¯¹åº”å·¥å…·ç±»ä¸­æ·»åŠ å¼€å…³åˆ†æ”¯ï¼Œä¿æŒè®¾è®¡ä¸€è‡´æ€§ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€ŒNEFUyellow386ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/2401_87905604/article/details/150648202">https://blog.csdn.net/2401_87905604/article/details/150648202</a></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>å®æˆ˜è®°å½•</category>
      
      <category>spring boot</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>spring boot</tag>
      
      <tag>mock</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¾®æœåŠ¡å­¦ä¹ ç¬”è®°</title>
    <link href="/2025/11/28/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2025/11/28/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="Nacosé…ç½®æ ¸å¿ƒè¦ç‚¹"><a href="#Nacosé…ç½®æ ¸å¿ƒè¦ç‚¹" class="headerlink" title="Nacosé…ç½®æ ¸å¿ƒè¦ç‚¹"></a>Nacosé…ç½®æ ¸å¿ƒè¦ç‚¹</h2><h3 id="1-é…ç½®æ–‡ä»¶è®¾ç½®"><a href="#1-é…ç½®æ–‡ä»¶è®¾ç½®" class="headerlink" title="1. é…ç½®æ–‡ä»¶è®¾ç½®"></a>1. é…ç½®æ–‡ä»¶è®¾ç½®</h3><ul><li>ä½¿ç”¨<a href="file://hmall/pay-service/target/classes/bootstrap.yaml">bootstrap.yaml</a>è€Œä¸æ˜¯<a href="file:///hmall/pay-service/target/classes/application.yaml">application.yaml</a>æ¥é…ç½®Nacosæ³¨å†Œä¸­å¿ƒå‚æ•°</li><li>å¿…é¡»åŒ…å«ä»¥ä¸‹åŸºæœ¬é…ç½®é¡¹ï¼š<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">æœåŠ¡åç§°</span> <span class="hljs-comment"># å¦‚user-service</span><br>  <span class="hljs-attr">cloud:</span><br>    <span class="hljs-attr">nacos:</span><br>      <span class="hljs-attr">server-addr:</span> <span class="hljs-string">NacosæœåŠ¡å™¨åœ°å€</span> <span class="hljs-comment"># å¦‚127.0.0.1:8848</span><br>      <span class="hljs-attr">discovery:</span><br>        <span class="hljs-attr">namespace:</span> <span class="hljs-string">å‘½åç©ºé—´ID</span> <span class="hljs-comment"># å¯é€‰</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="2-ä¾èµ–é…ç½®"><a href="#2-ä¾èµ–é…ç½®" class="headerlink" title="2. ä¾èµ–é…ç½®"></a>2. ä¾èµ–é…ç½®</h3><p>ä¸»è¦éœ€è¦ä»¥ä¸‹ä¾èµ–ï¼š</p><ul><li><code>spring-cloud-starter-alibaba-nacos-discovery</code> - NacosæœåŠ¡å‘ç°</li><li><code>spring-cloud-starter-openfeign</code> - Feignå®¢æˆ·ç«¯ï¼ˆå¦‚éœ€æœåŠ¡é—´è°ƒç”¨ï¼‰</li><li><code>spring-cloud-starter-loadbalancer</code> - è´Ÿè½½å‡è¡¡ï¼ˆé…åˆFeignä½¿ç”¨ï¼‰</li></ul><h3 id="3-ä¸»åº”ç”¨ç±»æ³¨è§£"><a href="#3-ä¸»åº”ç”¨ç±»æ³¨è§£" class="headerlink" title="3. ä¸»åº”ç”¨ç±»æ³¨è§£"></a>3. ä¸»åº”ç”¨ç±»æ³¨è§£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@EnableDiscoveryClient</span> <span class="hljs-comment">// å¯ç”¨æœåŠ¡å‘ç°</span><br><span class="hljs-meta">@EnableFeignClients(basePackages = &quot;com.hmall.api.client&quot;, defaultConfiguration = DefaultFeignConfig.class)</span> <span class="hljs-comment">// å¦‚ä½¿ç”¨Feign</span><br></code></pre></td></tr></table></figure><h3 id="4-å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"><a href="#4-å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="4. å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"></a>4. å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h3><h4 id="æœåŠ¡æ— æ³•æ³¨å†Œé—®é¢˜"><a href="#æœåŠ¡æ— æ³•æ³¨å†Œé—®é¢˜" class="headerlink" title="æœåŠ¡æ— æ³•æ³¨å†Œé—®é¢˜"></a>æœåŠ¡æ— æ³•æ³¨å†Œé—®é¢˜</h4><ul><li>æ£€æŸ¥æ˜¯å¦ç¼ºå°‘bootstrap.yamlæ–‡ä»¶</li><li>ç¡®è®¤ä¸»åº”ç”¨ç±»æ˜¯å¦æ·»åŠ äº†@EnableDiscoveryClientæ³¨è§£</li><li>æ£€æŸ¥NacosæœåŠ¡åœ°å€é…ç½®æ˜¯å¦æ­£ç¡®</li></ul><h4 id="Feignå®¢æˆ·ç«¯é—®é¢˜"><a href="#Feignå®¢æˆ·ç«¯é—®é¢˜" class="headerlink" title="Feignå®¢æˆ·ç«¯é—®é¢˜"></a>Feignå®¢æˆ·ç«¯é—®é¢˜</h4><ul><li>ç¡®ä¿æ·»åŠ äº†spring-cloud-starter-openfeignä¾èµ–</li><li>æ­£ç¡®é…ç½®@EnableFeignClientsæ³¨è§£</li><li>ä¸è¦æ‰‹åŠ¨é…ç½®Feignçš„customizersï¼Œè®©Spring Cloudè‡ªåŠ¨é…ç½®</li></ul><h4 id="è´Ÿè½½å‡è¡¡é—®é¢˜"><a href="#è´Ÿè½½å‡è¡¡é—®é¢˜" class="headerlink" title="è´Ÿè½½å‡è¡¡é—®é¢˜"></a>è´Ÿè½½å‡è¡¡é—®é¢˜</h4><ul><li>æ·»åŠ spring-cloud-starter-loadbalancerä¾èµ–</li><li>ç¡®ä¿æœåŠ¡é—´è°ƒç”¨ä½¿ç”¨æœåŠ¡åè€Œä¸æ˜¯ç¡¬ç¼–ç åœ°å€</li></ul><h3 id="5-å¤šæœåŠ¡ä¸€è‡´æ€§"><a href="#5-å¤šæœåŠ¡ä¸€è‡´æ€§" class="headerlink" title="5. å¤šæœåŠ¡ä¸€è‡´æ€§"></a>5. å¤šæœåŠ¡ä¸€è‡´æ€§</h3><p>åœ¨æˆ‘ä»¬çš„hmallé¡¹ç›®ä¸­ï¼Œuser-serviceã€trade-serviceã€pay-serviceç­‰éƒ½éœ€è¦ç›¸åŒçš„Nacosé…ç½®æ¨¡å¼æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚</p><p>ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬å¤„ç†Nacosé…ç½®è¿‡ç¨‹ä¸­çš„å…³é”®çŸ¥è¯†ç‚¹ï¼Œè¿™äº›éƒ½æ˜¯ä¿è¯å¾®æœåŠ¡èƒ½å¤Ÿæ­£å¸¸æ³¨å†Œå’Œå‘ç°çš„é‡è¦é…ç½®è¦ç´ ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>å¾®æœåŠ¡</category>
      
      <category>å®æˆ˜è®°å½•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>spring cloud alibaba</tag>
      
      <tag>nacos</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>usage</title>
    <link href="/2025/11/28/usage/"/>
    <url>/2025/11/28/usage/</url>
    
    <content type="html"><![CDATA[<p>è¿™ä»½ <strong>â€œHexo åšå®¢ç®¡ç†é€ŸæŸ¥æ‰‹å†Œâ€</strong> æ˜¯ä¸“é—¨ä¸ºä½ å‡†å¤‡çš„ã€‚ä½ å¯ä»¥æŠŠå®ƒä¿å­˜åˆ°ç¬”è®°è½¯ä»¶é‡Œï¼Œä»¥åå¿˜è®°æŒ‡ä»¤äº†å°±çœ‹ä¸€çœ¼ã€‚</p><p>è¿™é‡ŒåŒ…å«äº†<strong>å†™æ–‡ç« </strong>ã€<strong>æåˆ†ç±»</strong>ã€<strong>å‘å¸ƒæ›´æ–°</strong>ä»¥åŠ<strong>Fluid ä¸»é¢˜ç‰¹æœ‰è®¾ç½®</strong>çš„å®Œæ•´æµç¨‹ã€‚</p><hr><h3 id="ä¸€ã€-æ—¥å¸¸å†™ä½œä¸‰éƒ¨æ›²-æœ€å¸¸ç”¨"><a href="#ä¸€ã€-æ—¥å¸¸å†™ä½œä¸‰éƒ¨æ›²-æœ€å¸¸ç”¨" class="headerlink" title="ä¸€ã€ æ—¥å¸¸å†™ä½œä¸‰éƒ¨æ›² (æœ€å¸¸ç”¨)"></a>ä¸€ã€ æ—¥å¸¸å†™ä½œä¸‰éƒ¨æ›² (æœ€å¸¸ç”¨)</h3><p>è¿™æ˜¯ä½ ä»¥åæ¯æ¬¡å†™åšå®¢éƒ½ä¼šé‡å¤çš„æµç¨‹ã€‚</p><h4 id="1-åˆ›å»ºæ–°æ–‡ç« "><a href="#1-åˆ›å»ºæ–°æ–‡ç« " class="headerlink" title="1. åˆ›å»ºæ–°æ–‡ç« "></a>1. åˆ›å»ºæ–°æ–‡ç« </h4><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥åšå®¢æ ¹ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo new <span class="hljs-string">&quot;æ–‡ç« æ ‡é¢˜&quot;</span><br><span class="hljs-comment"># ä¾‹å­ï¼šhexo new &quot;Dockerå­¦ä¹ ç¬”è®°&quot;</span><br></code></pre></td></tr></table></figure><ul><li>ç³»ç»Ÿä¼šæç¤ºä½ æ–‡ä»¶ç”Ÿæˆåœ¨ <code>source/_posts/Dockerå­¦ä¹ ç¬”è®°.md</code>ã€‚</li><li>ç”¨ VS Code æˆ–è®°äº‹æœ¬æ‰“å¼€è¿™ä¸ªæ–‡ä»¶å¼€å§‹å†™ä½œã€‚</li></ul><h4 id="2-å¿…é¡»æŒæ¡çš„å¤´éƒ¨å†™æ³•-Front-matter"><a href="#2-å¿…é¡»æŒæ¡çš„å¤´éƒ¨å†™æ³•-Front-matter" class="headerlink" title="2. å¿…é¡»æŒæ¡çš„å¤´éƒ¨å†™æ³• (Front-matter)"></a>2. å¿…é¡»æŒæ¡çš„å¤´éƒ¨å†™æ³• (Front-matter)</h4><p>åœ¨æ–‡ç« çš„æœ€é¡¶éƒ¨ï¼Œå†³å®šäº†æ–‡ç« çš„åˆ†ç±»å’Œæ ‡ç­¾ã€‚<strong>æ³¨æ„å†’å·åå¿…é¡»æœ‰ç©ºæ ¼ï¼</strong></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs markdown">---<br>title: Dockerå­¦ä¹ ç¬”è®°<br>date: 2025-11-28 20:30:00<br>tags: <br><span class="hljs-bullet">  -</span> Docker<br><span class="hljs-bullet">  -</span> è¿ç»´<br>categories: <br><span class="hljs-bullet">  -</span> åç«¯æŠ€æœ¯<br><span class="hljs-section">  - å®¹å™¨åŒ–</span><br><span class="hljs-section">---</span><br>è¿™é‡Œå¼€å§‹å†™æ­£æ–‡...<br></code></pre></td></tr></table></figure><ul><li>**tags (æ ‡ç­¾)**ï¼šåƒå…³é”®è¯ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥æœ‰å¤šä¸ªï¼ˆæ¯”å¦‚ï¼šJava, ç¬”è®°ï¼‰ã€‚</li><li>**categories (åˆ†ç±»)**ï¼šåƒæ–‡ä»¶å¤¹ï¼Œæ”¯æŒå¤šçº§ï¼ˆæ¯”å¦‚ï¼šåç«¯æŠ€æœ¯ -&gt; Javaï¼‰ã€‚</li></ul><h4 id="3-æœ¬åœ°é¢„è§ˆ"><a href="#3-æœ¬åœ°é¢„è§ˆ" class="headerlink" title="3. æœ¬åœ°é¢„è§ˆ"></a>3. æœ¬åœ°é¢„è§ˆ</h4><p>å†™å®Œåï¼Œå…ˆåœ¨æœ¬åœ°çœ‹çœ‹æ•ˆæœï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo s<br></code></pre></td></tr></table></figure><p>æ‰“å¼€ <code>localhost:4000</code> æ£€æŸ¥æ— è¯¯åï¼ŒæŒ‰ <code>Ctrl + C</code> åœæ­¢æœåŠ¡ã€‚</p><hr><h3 id="äºŒã€-å‘å¸ƒä¸æ›´æ–°-ä¸Šä¼ åˆ°-GitHub"><a href="#äºŒã€-å‘å¸ƒä¸æ›´æ–°-ä¸Šä¼ åˆ°-GitHub" class="headerlink" title="äºŒã€ å‘å¸ƒä¸æ›´æ–° (ä¸Šä¼ åˆ° GitHub)"></a>äºŒã€ å‘å¸ƒä¸æ›´æ–° (ä¸Šä¼ åˆ° GitHub)</h3><p>æ— è®ºæ˜¯<strong>å‘å¸ƒæ–°æ–‡ç« </strong>ï¼Œè¿˜æ˜¯<strong>ä¿®æ”¹äº†é”™åˆ«å­—</strong>ï¼Œæˆ–è€…æ˜¯<strong>æ”¹äº†ä¸»é¢˜é…ç½®</strong>ï¼Œç»Ÿä¸€éƒ½ç”¨è¿™å¥—â€œä¸‰è¿å‡»â€æŒ‡ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 1. æ¸…ç†æ—§ç¼“å­˜ (é˜²æ­¢é¡µé¢æ²¡å˜ã€æ ·å¼é”™ä¹±)</span><br>hexo clean<br><br><span class="hljs-comment"># 2. ç”Ÿæˆé™æ€ç½‘é¡µ (æŠŠ Markdown å˜æˆ HTML)</span><br>hexo g<br><br><span class="hljs-comment"># 3. æ¨é€åˆ° GitHub (Go Live!)</span><br>hexo d<br></code></pre></td></tr></table></figure><p>ğŸ’¡ <strong>å·æ‡’æŠ€å·§</strong>ï¼šä½ å¯ä»¥æŠŠè¿™ä¸‰è¡Œåˆå¹¶æˆä¸€è¡Œè¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d<br></code></pre></td></tr></table></figure><hr><h3 id="ä¸‰ã€-å¼€å¯â€œåˆ†ç±»â€å’Œâ€œæ ‡ç­¾â€é¡µé¢-Fluid-ä¸»é¢˜å¿…åš"><a href="#ä¸‰ã€-å¼€å¯â€œåˆ†ç±»â€å’Œâ€œæ ‡ç­¾â€é¡µé¢-Fluid-ä¸»é¢˜å¿…åš" class="headerlink" title="ä¸‰ã€ å¼€å¯â€œåˆ†ç±»â€å’Œâ€œæ ‡ç­¾â€é¡µé¢ (Fluid ä¸»é¢˜å¿…åš)"></a>ä¸‰ã€ å¼€å¯â€œåˆ†ç±»â€å’Œâ€œæ ‡ç­¾â€é¡µé¢ (Fluid ä¸»é¢˜å¿…åš)</h3><p>åœ¨ Fluid ä¸»é¢˜ä¸­ï¼Œèœå•æ ä¸Šçš„â€œåˆ†ç±»â€å’Œâ€œæ ‡ç­¾â€æŒ‰é’®ï¼Œ<strong>é»˜è®¤ç‚¹å‡»æ˜¯ 404 çš„</strong>ã€‚ä½ éœ€è¦æ‰‹åŠ¨åˆ›å»ºè¿™ä¸¤ä¸ªç‰¹æ®Šçš„é¡µé¢ï¼ˆ<strong>åªéœ€è¦åšä¸€æ¬¡</strong>ï¼‰ã€‚</p><h4 id="1-å¼€å¯â€œåˆ†ç±»â€é¡µ"><a href="#1-å¼€å¯â€œåˆ†ç±»â€é¡µ" class="headerlink" title="1. å¼€å¯â€œåˆ†ç±»â€é¡µ"></a>1. å¼€å¯â€œåˆ†ç±»â€é¡µ</h4><p>åœ¨ç»ˆç«¯è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo new page categories<br></code></pre></td></tr></table></figure><p>ç„¶åå»ç¼–è¾‘ç”Ÿæˆçš„æ–‡ä»¶ <code>source/categories/index.md</code>ï¼ŒæŠŠå†…å®¹æ”¹æˆï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs markdown">---<br>title: åˆ†ç±»<br>date: 2025-11-28 20:00:00<br>type: categories  &lt;-- è¿™ä¸€è¡Œæœ€å…³é”®ï¼Œå‘Šè¯‰ä¸»é¢˜è¿™æ˜¯åˆ†ç±»é¡µ<br><span class="hljs-section">layout: categories</span><br><span class="hljs-section">---</span><br></code></pre></td></tr></table></figure><p><em>(æ³¨æ„ï¼šæ­£æ–‡ç•™ç©ºå³å¯ï¼Œä¸è¦å†™ä¸œè¥¿)</em></p><h4 id="2-å¼€å¯â€œæ ‡ç­¾â€é¡µ"><a href="#2-å¼€å¯â€œæ ‡ç­¾â€é¡µ" class="headerlink" title="2. å¼€å¯â€œæ ‡ç­¾â€é¡µ"></a>2. å¼€å¯â€œæ ‡ç­¾â€é¡µ</h4><p>åœ¨ç»ˆç«¯è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo new page tags<br></code></pre></td></tr></table></figure><p>å»ç¼–è¾‘ <code>source/tags/index.md</code>ï¼Œæ”¹ä¸ºï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs markdown">---<br>title: æ ‡ç­¾<br>date: 2025-11-28 20:00:00<br>type: tags       &lt;-- è¿™ä¸€è¡Œæœ€å…³é”®<br><span class="hljs-section">layout: tags</span><br><span class="hljs-section">---</span><br></code></pre></td></tr></table></figure><p>åšå®Œè¿™ä¸¤æ­¥åï¼Œè¿è¡Œ <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code>ï¼Œç‚¹å‡»èœå•æ çš„æŒ‰é’®ï¼Œå°±èƒ½è‡ªåŠ¨æŠŠä½ æ‰€æœ‰æ–‡ç« çš„åˆ†ç±»å’Œæ ‡ç­¾æ±‡æ€»å±•ç¤ºå‡ºæ¥äº†ã€‚</p><hr><h3 id="å››ã€-å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥è¡¨"><a href="#å››ã€-å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥è¡¨" class="headerlink" title="å››ã€ å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥è¡¨"></a>å››ã€ å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥è¡¨</h3><table><thead><tr><th align="left">ç®€å†™æŒ‡ä»¤</th><th align="left">å®Œæ•´æŒ‡ä»¤</th><th align="left">ä½œç”¨</th><th align="left">å¤‡æ³¨</th></tr></thead><tbody><tr><td align="left"><code>hexo n &quot;...&quot;</code></td><td align="left"><code>hexo new &quot;...&quot;</code></td><td align="left"><strong>æ–°å»ºæ–‡ç« </strong></td><td align="left">ç”Ÿæˆåœ¨ <code>source/_posts</code></td></tr><tr><td align="left"><code>hexo s</code></td><td align="left"><code>hexo server</code></td><td align="left"><strong>å¯åŠ¨æœ¬åœ°é¢„è§ˆ</strong></td><td align="left">è®¿é—® <code>localhost:4000</code></td></tr><tr><td align="left"><code>hexo g</code></td><td align="left"><code>hexo generate</code></td><td align="left"><strong>ç”Ÿæˆç½‘é¡µ</strong></td><td align="left">ç¼–è¯‘ Markdown ä¸º HTML</td></tr><tr><td align="left"><code>hexo d</code></td><td align="left"><code>hexo deploy</code></td><td align="left"><strong>éƒ¨ç½²&#x2F;å‘å¸ƒ</strong></td><td align="left">æ¨é€åˆ° GitHub</td></tr><tr><td align="left"><code>hexo clean</code></td><td align="left"><code>hexo clean</code></td><td align="left"><strong>æ¸…ç†ç¼“å­˜</strong></td><td align="left"><strong>é‡åˆ°ç„å­¦é—®é¢˜å…ˆæ‰§è¡Œå®ƒ</strong></td></tr><tr><td align="left"><code>hexo new page &quot;...&quot;</code></td><td align="left"><code>hexo new page &quot;...&quot;</code></td><td align="left"><strong>æ–°å»ºç‹¬ç«‹é¡µé¢</strong></td><td align="left">å¦‚â€œå…³äºæˆ‘â€ã€â€œå‹æƒ…é“¾æ¥â€</td></tr></tbody></table><h3 id="äº”ã€-å¦‚æœæˆ‘æƒ³æ¢ç”µè„‘å†™åšå®¢æ€ä¹ˆåŠï¼Ÿ"><a href="#äº”ã€-å¦‚æœæˆ‘æƒ³æ¢ç”µè„‘å†™åšå®¢æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="äº”ã€ å¦‚æœæˆ‘æƒ³æ¢ç”µè„‘å†™åšå®¢æ€ä¹ˆåŠï¼Ÿ"></a>äº”ã€ å¦‚æœæˆ‘æƒ³æ¢ç”µè„‘å†™åšå®¢æ€ä¹ˆåŠï¼Ÿ</h3><p>è¿™æ˜¯å¾ˆå¤šæ–°æ‰‹å®¹æ˜“è¸©çš„å‘ã€‚<strong>GitHub ä»“åº“ (<code>yellow386.github.io</code>) é‡Œå­˜çš„åªæ˜¯ç”Ÿæˆçš„ç½‘é¡µ (HTML)ï¼Œä¸æ˜¯ä½ çš„æºä»£ç  (Markdown)ï¼</strong></p><p>ä¸ºäº†é˜²æ­¢ç”µè„‘åäº†å¯¼è‡´åšå®¢æºç ä¸¢å¤±ï¼Œå»ºè®®ä½ åšæœ€åä¸€ä»¶é‡è¦çš„äº‹ï¼š</p><ol><li>åœ¨ GitHub ä¸Šæ–°å»ºä¸€ä¸ªä»“åº“ï¼Œå« <code>hexo-blog-source</code> (åå­—éšæ„ï¼Œè®¾ä¸º Private ç§æœ‰ä»“åº“æœ€å¥½)ã€‚</li><li>æŠŠä½ çš„ <code>s</code> æ–‡ä»¶å¤¹æ•´ä¸ªä¸Šä¼ åˆ°è¿™ä¸ªæ–°ä»“åº“é‡Œå¤‡ä»½ã€‚</li><li>ä»¥åæ¯æ¬¡å†™å®Œï¼Œé™¤äº† <code>hexo d</code> å‘å¸ƒç½‘é¡µå¤–ï¼Œè®°å¾—ä¹Ÿè¦æŠŠæºç  <code>git push</code> åˆ°è¿™ä¸ªç§æœ‰ä»“åº“å¤‡ä»½ã€‚</li></ol><p>ç°åœ¨ï¼Œä½ çš„åšå®¢æŠ€èƒ½æ ‘å·²ç»ç‚¹æ»¡äº†ï¼å»å†™ä¸‹ä½ çš„ç¬¬ä¸€ç¯‡æŠ€æœ¯æ€»ç»“å§ï¼ğŸš€</p>]]></content>
    
    
    <categories>
      
      <category>Guide</category>
      
    </categories>
    
    
    <tags>
      
      <tag>how to use io</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>my first blog</title>
    <link href="/2025/11/28/my-first-blog/"/>
    <url>/2025/11/28/my-first-blog/</url>
    
    <content type="html"><![CDATA[<p>ä»¥æ­¤æ¥çºªå¿µæˆ‘åˆ›ä½œçš„ç¬¬ä¸€ç¯‡åšå®¢ï¼<br>(å»ºè®®æŠŠè¿™å¥è¯å†™åœ¨æ­£æ–‡é‡Œï¼Œè€Œä¸æ˜¯ä½œä¸ºæ ‡ç­¾)</p>]]></content>
    
    
    <categories>
      
      <category>Blog</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Start Blog</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
